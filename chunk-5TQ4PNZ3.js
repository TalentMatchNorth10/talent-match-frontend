import{b as A}from"./chunk-3XY6FSBK.js";import{c as $,d as H}from"./chunk-73BZT7SG.js";import{g as I,i as _,t as D}from"./chunk-YCOMELVM.js";import{Aa as b,Ca as C,Ea as y,Fa as S,Ga as w,Ha as k,Ia as n,Ja as i,Ka as u,La as E,Oa as f,Pa as p,Q as x,Qa as a,Ra as g,Sa as F,T as m,Ua as d,Va as T,aa as h,ba as v,oa as j,qa as c}from"./chunk-M5BZCX2I.js";import"./chunk-2XJVAMHT.js";var G=t=>({"border-b border-tmf-gray-5 pb-2 mb-2":t});function L(t,e){if(t&1){let l=E();n(0,"div",16)(1,"button",17)(2,"span",18),a(3,"handshake"),i(),a(4," \u6211\u8981\u958B\u8AB2 "),i(),n(5,"button",19),f("click",function(){h(l);let o=p();return v(o.redirect("/login"))}),n(6,"span",18),a(7,"handshake"),i(),a(8," \u767B\u5165/\u8A3B\u518A "),i()()}}function P(t,e){if(t&1&&u(0,"img",22),t&2){let l=p(2);C("src",l.user.avator_image,j)}}function R(t,e){if(t&1){let l=E();n(0,"li",27),f("click",function(){let o=h(l).$implicit,s=p(3);return v(s.handleMenuClick(o))}),n(1,"span",28),a(2),i(),n(3,"p"),a(4),i()()}if(t&2){let l=e.$implicit,r=e.$index,o=e.$count,s=p(),M=s.$index,O=s.$count;C("ngClass",T(3,G,r===o-1&&M!==O-1)),c(2),g(l.icon),c(2),g(l.label)}}function q(t,e){if(t&1&&w(0,R,5,5,"li",26,S),t&2){let l=e.$implicit;k(l)}}function z(t,e){if(t&1&&(n(0,"div",20)(1,"div",21),b(2,P,1,1,"img",22),i(),n(3,"p",23),a(4),i(),n(5,"div",24)(6,"ul",25),w(7,q,2,0,null,null,S),i()()()),t&2){let l=p();c(2),y(2,l.user.avator_image?2:-1),c(2),F(" ",l.user.nick_name," "),c(3),k(l.userMenuList)}}var U=(()=>{let e=class e{constructor(){this.userService=x(D),this.router=x(H),this.authStatusService=x(A),this.user=null,this.selectCity="\u53F0\u5317\u5E02",this.userMenuList=[[{icon:"face",label:"\u6559\u5E2B\u8CC7\u8A0A\u7BA1\u7406"},{icon:"smart_display",label:"\u5F71\u7247\u7BA1\u7406"},{icon:"edit_calendar",label:"\u884C\u4E8B\u66C6\u7BA1\u7406"},{icon:"description",label:"\u8AB2\u7A0B\u7BA1\u7406"},{icon:"account_balance_wallet",label:"\u4EA4\u6613\u7D00\u9304"},{icon:"settings",label:"\u5E33\u6236\u7BA1\u7406"}],[{icon:"question_answer",label:"\u8A0A\u606F"},{icon:"notifications",label:"\u516C\u544A"}],[{icon:"logout",label:"\u767B\u51FA"}]]}ngOnInit(){this.authStatusService.loginStatus$().subscribe(r=>{r?this.getUserInfo():this.user=null})}getUserInfo(){this.userService.apiUserUserInfoGet().subscribe({next:r=>{this.user=r.data},error:r=>{console.error(r)}})}redirect(r){this.router.navigate([r])}handleMenuClick(r){switch(r.label){case"\u767B\u51FA":this.authStatusService.logout(),this.router.navigate(["/login"]);break;default:break}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=m({type:e,selectors:[["app-header"]],standalone:!0,features:[d],decls:32,vars:2,consts:[[1,"flex","justify-center","border-b","border-tmf-gray-5"],[1,"relative","flex","h-[64px]","lg:h-[80px]","justify-between","items-center","w-full","px-6","md:px-[32px]","lg:max-w-[1280px]"],[1,"hidden","justify-center","gap-x-6","lg:flex"],[1,"flex","items-center","gap-x-[2px]"],[1,"material-icons-outlined","text-[20px]","text-tmf-orange-1"],[1,"text-[16px]","leading-6"],[1,"material-icons-outlined","text-[20px]","text-tmf-gray-4"],[1,"flex","lg:hidden","cursor-pointer"],[1,"material-icons-outlined","text-[24px]","text-tmf-gray-4"],["src","assets/images/logo.svg","alt","logo",1,"h-[33px]","lg:h-[54px]","cursor-pointer","lg:left-[50%]","lg:-translate-x-[50%]","lg:absolute",3,"click"],[1,"flex","justify-end","items-center","gap-x-10"],[1,"justify-center","mt-2","gap-x-5","flex"],[1,"relative","cursor-pointer"],[1,"material-icons-outlined"],[1,"rounded-full","w-1","h-1","bg-tmf-orange-1","absolute","right-0","top-0"],[1,"rounded-full","w-4","h-4","bg-tmf-orange-1","absolute","-right-1","-top-1","flex","justify-center","items-center","text-white","text-[10px]","font-semibold"],[1,"justify-center","items-center","gap-x-4","hidden","lg:flex"],[1,"flex","w-[120px]","h-[40px]","justify-center","items-center","text-tmf-orange-1","border-2","border-tmf-orange-1","rounded-lg","gap-x-1","hover:bg-tmf-orange-1","hover:text-white","duration-100","active:bg-tmf-orange-2","active:text-white"],[1,"material-icons-outlined","!text-[18px]"],[1,"flex","w-[120px]","h-[40px]","justify-center","items-center","bg-tmf-orange-1","text-white","rounded-lg","gap-x-1","hover:bg-tmf-orange-2","duration-100","active:bg-tmf-orange-1",3,"click"],[1,"relative","flex","justify-center","items-center","gap-x-2","group"],[1,"rounded-full","overflow-hidden","shrink-0","w-[44px]","h-[44px]","bg-tmf-gray-5"],["alt","avator_image",3,"src"],[1,"text-[18px]","leading-7","font-medium","hidden","lg:block"],[1,"absolute","top-full","right-0","lg:left-0","pt-[10px]","lg:pt-[18px]","hidden","group-hover:block"],[1,"py-3","w-[200px]","shadow-[0px_10px_15px_-3px_#0000001A]","rounded-b-[12px]","border-t","border-tmf-purple"],[1,"w-full","px-[26px]","h-[48px]","flex","items-center","justify-start","gap-x-2","cursor-pointer","hover:bg-tmf-orange-3","active:bg-tmf-orange-2","duration-100",3,"ngClass"],[1,"w-full","px-[26px]","h-[48px]","flex","items-center","justify-start","gap-x-2","cursor-pointer","hover:bg-tmf-orange-3","active:bg-tmf-orange-2","duration-100",3,"click","ngClass"],[1,"material-icons-outlined","text-tmf-gray-4"]],template:function(o,s){o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),a(5,"pin_drop"),i(),n(6,"p",5),a(7),i()(),n(8,"span"),a(9," | "),i(),n(10,"div",3)(11,"span",6),a(12,"expand_more"),i(),n(13,"p",5),a(14,"\u63A2\u7D22"),i()()(),n(15,"button",7)(16,"span",8),a(17,"menu"),i()(),n(18,"img",9),f("click",function(){return s.redirect("/home")}),i(),n(19,"div",10)(20,"div",11)(21,"button",12)(22,"span",13),a(23,"notifications"),i(),u(24,"div",14),i(),n(25,"button",12)(26,"span",13),a(27,"shopping_cart"),i(),n(28,"div",15),a(29," 1 "),i()()(),b(30,L,9,0,"div",16)(31,z,9,2),i()()()),o&2&&(c(7),g(s.selectCity),c(23),y(30,s.user?31:30))},dependencies:[_,I],styles:["[_nghost-%COMP%]{display:block}"]});let t=e;return t})();var V=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=m({type:e,selectors:[["app-footer"]],standalone:!0,features:[d],decls:0,vars:0,template:function(o,s){},dependencies:[_],styles:["[_nghost-%COMP%]{display:block}"]});let t=e;return t})();var oe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=m({type:e,selectors:[["app-layout"]],standalone:!0,features:[d],decls:4,vars:0,consts:[[1,"flex","flex-col","min-h-[100vh]"]],template:function(o,s){o&1&&(n(0,"div",0),u(1,"app-header")(2,"router-outlet")(3,"app-footer"),i())},dependencies:[$,U,V]});let t=e;return t})();export{oe as default};
