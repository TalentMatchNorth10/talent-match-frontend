import{a as ue}from"./chunk-XPLGP64B.js";import{d as fe}from"./chunk-VNQ7656W.js";import"./chunk-7HPKGXFV.js";import"./chunk-ZUQEKNDW.js";import{a as pe,d as se}from"./chunk-LJPA54CT.js";import{f as ge,o as he}from"./chunk-UCUMTS2Y.js";import"./chunk-INKIBVR7.js";import"./chunk-WATD7KOW.js";import{a as me,b as de}from"./chunk-JRLPXEVI.js";import{f as Z}from"./chunk-2GZLITG5.js";import{c as u,e as ee,f as te,i as ie,k as ne,l as re,m as oe,n as le,o as ae,q as A,s as ce}from"./chunk-BJV7KTFY.js";import"./chunk-JA5JV2TR.js";import"./chunk-GTN2YQGD.js";import{a as _e}from"./chunk-SFQLGEEG.js";import"./chunk-AII6RJAH.js";import{k as J,l as U,m as K,v as X}from"./chunk-GONTSOGY.js";import{A as O,Fb as I,Gb as m,Ib as T,Na as l,Ob as Y,P as q,Qb as C,Rb as z,S as $,Sb as H,W as G,aa as x,db as d,fa as j,fb as r,gb as M,hb as N,jb as S,k as B,l as D,lb as Q,mb as W,nb as L,o as V,ob as c,pa as y,pb as p,qa as b,qb as f,rb as F,sb as w,u as P,ub as E,xb as h,y as R,yb as g}from"./chunk-Y7HHJWJT.js";import"./chunk-MON7YFGF.js";var ye=(()=>{let o=class o{constructor(){this.fb=x(A)}createTeacherForm(){let a=this.fb.group({categories:this.fb.array([this.fb.group({category_id:this.fb.control("",[u.required]),sub_categories:this.fb.control([],[u.required])})]),nationality:this.fb.control("",[u.required]),introduction:this.fb.control(null),work_experiences:this.fb.array([this.createWorkExperience()]),learning_experience:this.createLearningExperience(),teaching_certificates:this.fb.array([this.createTeachingCertificate()])});return a.controls.categories.clear(),a}createWorkExperience(){return this.fb.group({is_working:this.fb.control(!1,[u.required]),company_name:this.fb.control("",[u.required]),workplace:this.fb.control("",[u.required]),job_category:this.fb.control("",[u.required]),job_title:this.fb.control("",[u.required]),start_year:this.fb.control(null,[u.required]),start_month:this.fb.control(null,[u.required]),end_year:this.fb.control(null,[u.required]),end_month:this.fb.control(null,[u.required])})}createLearningExperience(){return this.fb.group({is_in_school:this.fb.control(!1,[u.required]),degree:this.fb.control("",[u.required]),department:this.fb.control("",[u.required]),start_year:this.fb.control(null,[u.required]),start_month:this.fb.control(null,[u.required]),end_year:this.fb.control(null,[u.required]),end_month:this.fb.control(null,[u.required]),name:this.fb.control("",[u.required]),region:this.fb.control(!0,[u.required]),file:this.fb.control("",[u.required])})}createTeachingCertificate(){return this.fb.group({verifying_institution:this.fb.control("",[u.required]),license_name:this.fb.control("",[u.required]),name:this.fb.control("",[u.required]),license_number:this.fb.control("",[u.required]),file:this.fb.control("",[u.required]),category_id:this.fb.control("",[u.required]),subject:this.fb.control("",[u.required])})}};o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=G({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})();var ve=(t,o)=>({"bg-tmf-orange-1":t,"bg-tmf-orange-2":o}),Ce=(t,o,i)=>({"text-gray-900":t,"text-gray-300":o,"font-bold":i}),k=t=>({hidden:t});function Se(t,o){if(t&1&&(F(0),c(1,"div",13)(2,"div",14),f(3,"div",15),p(),c(4,"div",16),m(5),p()(),w()),t&2){let i=o.$implicit,a=o.index,e=g();l(3),r("ngClass",z(3,ve,a<=e.currentStepIndex,a>e.currentStepIndex)),l(),r("ngClass",H(6,Ce,a<=e.currentStepIndex,a>e.currentStepIndex,a===e.currentStepIndex)),l(),T(" ",i.name," ")}}function Fe(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i.value)("label",i.label)}}function we(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit,a=g(2);N("selected",a.topicControl.value==null?null:a.topicControl.value.includes(i.value)),r("value",i.value)("label",i.main_category)}}function Ee(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit,a=g().$implicit;N("selected",a.controls.sub_categories.value==null?null:a.controls.sub_categories.value.includes(i)),r("value",i)("label",i)}}function Te(t,o){if(t&1&&(F(0),c(1,"tmf-select",54),d(2,Ee,1,4,"tmf-option",24),p(),w()),t&2){let i=o.$implicit,a=g(2);l(),r("label",a.getCategoryLabel(i.controls.category_id.value))("multiSelect",!0)("maxSelected",3)("isRequired",!0)("formControl",i.controls.sub_categories),l(),r("ngForOf",a.getSubCategoryOptions(i.controls.category_id.value))}}function Ae(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i.value)("label",i.label)}}function ke(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i.value)("label",i.label)}}function Oe(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i.value)("label",i.label)}}function qe(t,o){t&1&&(c(0,"span",39),m(1,"*"),p())}function Ne(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i.value)("label",i.label)}}function Ie(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i.value)("label",i.label)}}function Be(t,o){if(t&1){let i=E();c(0,"div",31)(1,"div",25)(2,"div",55)(3,"tmf-checkbox",56),h("checkedChange",function(e){let n=y(i).$index,s=g(2);return b(s.handleIsWorkingChange(e,n))}),p(),c(4,"button",57),h("click",function(){let e=y(i).$index,n=g(2);return b(n.removeGroup("work_experience",e))}),c(5,"span",58),m(6,"close"),p()()(),f(7,"tmf-input",59)(8,"tmf-input",44),c(9,"tmf-select",60),d(10,Ae,1,2,"tmf-option",22),p(),f(11,"tmf-input",44),c(12,"div",61)(13,"div",38)(14,"div"),m(15,"\u958B\u59CB\u6642\u9593"),c(16,"span",39),m(17,"*"),p()(),c(18,"div",40)(19,"tmf-select",41),d(20,ke,1,2,"tmf-option",22),p(),c(21,"tmf-select",42),d(22,Oe,1,2,"tmf-option",22),p()()(),c(23,"div",38)(24,"div"),m(25," \u7D50\u675F\u6642\u9593 "),d(26,qe,2,0,"span",39),p(),c(27,"div",40)(28,"tmf-select",41),d(29,Ne,1,2,"tmf-option",22),p(),c(30,"tmf-select",42),d(31,Ie,1,2,"tmf-option",22),p()()()()()()}if(t&2){let i,a=o.$implicit,e=o.$index,n=g(2);r("formGroupName",e),l(7),r("isRequired",!0)("inputType",n.InputType.Outline)("formControlName","company_name"),l(),r("label","\u5DE5\u4F5C\u5730\u9EDE")("isRequired",!0)("inputType",n.InputType.Outline)("formControlName","workplace"),l(),r("isRequired",!0)("multiSelect",!1)("formControlName","job_category"),l(),r("ngForOf",n.jobCategoryOptions),l(),r("label","\u8077\u4F4D\u540D\u7A31")("isRequired",!0)("inputType",n.InputType.Outline)("formControlName","job_title"),l(8),r("multiSelect",!1)("formControlName","start_year"),l(),r("ngForOf",n.yearOptions),l(),r("multiSelect",!1)("formControlName","start_month"),l(),r("ngForOf",n.monthOptions),l(4),S(26,(i=a.get("is_working"))!=null&&i.value?-1:26),l(2),r("multiSelect",!1)("formControlName","end_year"),l(),r("ngForOf",n.yearOptions),l(),r("multiSelect",!1)("formControlName","end_month"),l(),r("ngForOf",n.monthOptions)}}function De(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i.value)("label",i.label)}}function Ve(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i.value)("label",i.label)}}function Pe(t,o){t&1&&(c(0,"span",39),m(1,"*"),p())}function Re(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i.value)("label",i.label)}}function $e(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i.value)("label",i.label)}}function Ge(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i.value)("label",i.label)}}function je(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i.value)("label",i.label)}}function Me(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i.value)("label",i.main_category)}}function Qe(t,o){if(t&1&&f(0,"tmf-option",53),t&2){let i=o.$implicit;r("value",i)("label",i)}}function We(t,o){if(t&1&&(c(0,"tmf-select",64),d(1,Qe,1,2,"tmf-option",22),p()),t&2){let i,a=g().index,e=g(2);r("multiSelect",!1)("formControlName","subject")("isRequired",!0),l(),r("ngForOf",e.getSubCategoryOptions((i=e.teaching_certificates.controls[a].get("category_id"))==null?null:i.value))}}function Le(t,o){if(t&1){let i=E();F(0),c(1,"div",31)(2,"div",46)(3,"div",62)(4,"button",57),h("click",function(){let e=y(i).index,n=g(2);return b(n.removeGroup("teaching_certificate",e))}),c(5,"span",58),m(6,"close"),p()()(),c(7,"tmf-select",63),d(8,Me,1,2,"tmf-option",22),p(),d(9,We,2,4,"tmf-select",64),f(10,"tmf-input",44)(11,"tmf-input",44)(12,"tmf-input",44)(13,"tmf-input",44),c(14,"div",46)(15,"span",47),m(16,"\u4E0A\u50B3\u8B49\u7167"),c(17,"span",39),m(18,"*"),p()(),c(19,"input",48,1),h("change",function(e){let n=y(i).$implicit,s=g(2);return b(s.handleFileChange(e,n.controls.file,"certificate"))}),p(),c(21,"button",49),h("click",function(){y(i);let e=I(20);return b(e.click())}),m(22),p()()()(),w()}if(t&2){let i,a,e=o.$implicit,n=o.index,s=g(2);l(),r("formGroupName",n),l(6),r("multiSelect",!1)("formControlName","category_id")("isRequired",!0),l(),r("ngForOf",s.tagOptions),l(),S(9,(i=s.teaching_certificates.controls[n].get("category_id"))!=null&&i.value?9:-1),l(),r("label","\u8A8D\u8B49\u6A5F\u69CB")("isRequired",!0)("inputType",s.InputType.Outline)("formControlName","verifying_institution"),l(),r("label","\u8B49\u7167\u540D\u7A31")("isRequired",!0)("inputType",s.InputType.Outline)("formControlName","license_name"),l(),r("label","\u8B49\u7167\u7533\u8ACB\u59D3\u540D")("isRequired",!0)("inputType",s.InputType.Outline)("formControlName","name"),l(),r("label","\u8B49\u7167\u5E8F\u865F(\u9650\u8F38\u5165\u82F1\u6578)")("isRequired",!0)("inputType",s.InputType.Outline)("formControlName","license_number"),l(9),T(" ",(a=e.get("file"))!=null&&a.value?"\u5DF2\u4E0A\u50B3":"\u9078\u64C7\u6A94\u6848"," ")}}function Ye(t,o){if(t&1){let i=E();c(0,"form",17)(1,"div",18)(2,"section",19)(3,"div",20),m(4,"\u57FA\u672C\u8CC7\u6599"),p(),c(5,"tmf-select",21),d(6,Fe,1,2,"tmf-option",22),p(),c(7,"tmf-select",23),h("selectChange",function(e){y(i);let n=g();return b(n.handleCategoryChange(e))}),d(8,we,1,4,"tmf-option",24),p(),c(9,"div",25)(10,"span",26),m(11,"\u6559\u5B78\u5C08\u9577"),p(),c(12,"span",27),m(13,"*\u76E1\u53EF\u80FD\u9078\u64C7\u71B1\u9580\u5C08\u9577\uFF0C\u4EE5\u7372\u5F97\u66F4\u591A\u62DB\u751F\u6A5F\u6703(3\u9805/\u79D1\u76EE)\u3002"),p()(),d(14,Te,3,6,"ng-container",7),p(),c(15,"section",28)(16,"div",29),m(17,"\u5DE5\u4F5C\u7D93\u9A57"),p(),c(18,"div",30),W(19,Be,32,29,"div",31,Q),c(21,"span",32),h("click",function(){y(i);let e=g();return b(e.addGroup("work_experience"))}),c(22,"span",33),m(23,"add"),p(),m(24,"\u65B0\u589E\u5DE5\u4F5C\u7D93\u6B77"),p()()(),c(25,"section",28)(26,"div",29),m(27,"\u5B78\u6B77\u80CC\u666F"),p(),c(28,"div",34)(29,"div",35)(30,"tmf-checkbox",36),h("checkedChange",function(e){y(i);let n=g();return b(n.handleIsInSchoolChange(e))}),p()(),c(31,"div",37)(32,"div",38)(33,"div"),m(34,"\u958B\u59CB\u6642\u9593"),c(35,"span",39),m(36,"*"),p()(),c(37,"div",40)(38,"tmf-select",41),d(39,De,1,2,"tmf-option",22),p(),c(40,"tmf-select",42),d(41,Ve,1,2,"tmf-option",22),p()()(),c(42,"div",38)(43,"div"),m(44," \u7D50\u675F\u6642\u9593 "),d(45,Pe,2,0,"span",39),p(),c(46,"div",40)(47,"tmf-select",41),d(48,Re,1,2,"tmf-option",22),p(),c(49,"tmf-select",42),d(50,$e,1,2,"tmf-option",22),p()()()(),c(51,"tmf-select",43),d(52,Ge,1,2,"tmf-option",22),p(),f(53,"tmf-input",44)(54,"tmf-input",44),c(55,"tmf-select",45),d(56,je,1,2,"tmf-option",22),p(),c(57,"div",46)(58,"span",47),m(59,"\u4E0A\u50B3\u5B78\u4F4D\u8B49\u66F8"),c(60,"span",39),m(61,"*"),p()(),c(62,"input",48,0),h("change",function(e){y(i);let n=g();return b(n.handleFileChange(e,n.learning_experience.controls.file,"degree"))}),p(),c(64,"button",49),h("click",function(){y(i);let e=I(63);return b(e.click())}),m(65),p()()()(),c(66,"section",28)(67,"div",50),m(68," \u6559\u5B78\u8B49\u7167 "),c(69,"p",51),m(70," < \u975E\u5FC5\u586B > \u82E5\u60A8\u7121\u6559\u5B78\u8B49\u7167\uFF0C\u8ACB\u76F4\u63A5\u9EDE\u9078\u300C\u5B8C\u6210\u300D "),p()(),c(71,"div",52),d(72,Le,23,23,"ng-container",7),p(),c(73,"span",32),h("click",function(){y(i);let e=g();return b(e.addGroup("teaching_certificate"))}),c(74,"span",33),m(75,"add"),p(),m(76,"\u65B0\u589E\u6559\u5B78\u8B49\u7167"),p()()()()}if(t&2){let i,a,e=g();r("formGroup",e.teacherForm),l(2),r("ngClass",C(47,k,e.currentStepIndex!==0)),l(3),r("isRequired",!0)("multiSelect",!1),l(),r("ngForOf",e.nationOptions),l(),r("formControl",e.topicControl)("isRequired",!0)("multiSelect",!0)("maxSelected",3),l(),r("ngForOf",e.tagOptions),l(6),r("ngForOf",e.categoriesFormArray.controls),l(),r("ngClass",C(49,k,e.currentStepIndex!==1)),l(4),L(e.work_experiences.controls),l(6),r("ngClass",C(51,k,e.currentStepIndex!==2)),l(3),r("formGroupName","learning_experience"),l(2),r("formControlName","is_in_school"),l(8),r("multiSelect",!1)("formControlName","start_year"),l(),r("ngForOf",e.yearOptions),l(),r("multiSelect",!1)("formControlName","start_month"),l(),r("ngForOf",e.monthOptions),l(4),S(45,(i=e.learning_experience.get("is_in_school"))!=null&&i.value?-1:45),l(2),r("multiSelect",!1)("formControlName","end_year"),l(),r("ngForOf",e.yearOptions),l(),r("multiSelect",!1)("formControlName","end_month"),l(),r("ngForOf",e.monthOptions),l(),r("isRequired",!0)("multiSelect",!1)("formControlName","region"),l(),r("ngForOf",e.regionOptions),l(),r("label","\u5B78\u6821\u540D\u7A31")("isRequired",!0)("inputType",e.InputType.Outline)("formControlName","name"),l(),r("label","\u79D1\u7CFB\u540D\u7A31")("isRequired",!0)("inputType",e.InputType.Outline)("formControlName","department"),l(),r("isRequired",!0)("multiSelect",!1)("formControlName","degree"),l(),r("ngForOf",e.degreeOptions),l(9),T(" ",(a=e.learning_experience.get("file"))!=null&&a.value?"\u5DF2\u4E0A\u50B3":"\u9078\u64C7\u6A94\u6848"," "),l(),r("ngClass",C(53,k,e.currentStepIndex!==3)),l(6),r("ngForOf",e.teaching_certificates.controls)}}var pt=(()=>{let o=class o{constructor(){this.fb=x(A),this.teacherFormService=x(ye),this.commonService=x(_e),this.uploadService=x(he),this.homeService=x(ge),this.dialogService=x(fe),this.router=x(Z),this.InputType=pe,this.tagOptions=[],this.nationOptions=[],this.jobCategoryOptions=[],this.yearOptions=[],this.monthOptions=[],this.degreeOptions=[],this.regionOptions=[{label:"\u53F0\u7063",value:!0},{label:"\u6D77\u5916",value:!1}],this.topicControl=this.fb.control([]),this.uploadQueue=[],this.steps=[{name:"\u57FA\u672C\u8CC7\u6599"},{name:"\u5C65\u6B77"},{name:"\u5B78\u6B77\u80CC\u666F"},{name:"\u6559\u5B78\u8B49\u7167"}],this.currentStepIndex=0,this.items=[{label:"A",value:1},{label:"B",value:2}]}get categoriesFormArray(){return this.teacherForm.controls.categories}get work_experiences(){return this.teacherForm.get("work_experiences")}get learning_experience(){return this.teacherForm.get("learning_experience")}get teaching_certificates(){return this.teacherForm.get("teaching_certificates")}ngOnInit(){this.teacherForm=this.teacherFormService.createTeacherForm(),this.getOptions()}getOptions(){this.commonService.apiCommonTagGet().subscribe(e=>{this.tagOptions=e.data.map(n=>({value:n._id,main_category:n.main_category,sub_category:n.sub_category}))}),this.commonService.apiCommonOptionsNationGet().subscribe(e=>{this.nationOptions=e.data}),this.commonService.apiCommonOptionsJobCategoryGet().subscribe(e=>{this.jobCategoryOptions=e.data});let a=new Date().getFullYear();this.yearOptions=Array.from({length:16},(e,n)=>{let s=a-n;return{label:`${s}`,value:`${s}`}}),this.monthOptions=Array.from({length:12},(e,n)=>{let s=n+1;return{label:`${s}`,value:`${s}`}}),this.commonService.apiCommonOptionsDegreeGet().subscribe(e=>{this.degreeOptions=e.data})}nextStep(){let e=[{controls:["nationality","categories"],errorTitle:"\u586B\u5BEB\u932F\u8AA4",errorContent:"\u57FA\u672C\u8CC7\u6599\u672A\u586B\u5BEB\u5B8C\u6210"},{controls:["work_experiences"],errorTitle:"\u586B\u5BEB\u932F\u8AA4",errorContent:"\u5C65\u6B77\u672A\u586B\u5BEB\u5B8C\u6210"},{controls:["learning_experience"],errorTitle:"\u586B\u5BEB\u932F\u8AA4",errorContent:"\u5B78\u6B77\u80CC\u666F\u672A\u586B\u5BEB\u5B8C\u6210"},{controls:["teaching_certificates"],errorTitle:"\u586B\u5BEB\u932F\u8AA4",errorContent:"\u6559\u5B78\u8B49\u7167\u672A\u586B\u5BEB\u5B8C\u6210"}][this.currentStepIndex];if(e&&e.controls.filter(s=>this.teacherForm.get(s)?.invalid).length>0){this.dialogService.openAlertDialog({title:e.errorTitle,content:e.errorContent});return}this.currentStepIndex<this.steps.length-1&&this.currentStepIndex++}prevStep(){this.currentStepIndex>0&&this.currentStepIndex--}onSubmit(){let a=n=>this.uploadService.apiUploadFilePost({fileType:"file",path:n.type,file:n.file}),e=this.uploadQueue.map(n=>a(n).pipe($(({fileUrl:s})=>n.control.setValue(s||"")),V(()=>({type:n.type,error:!1})),O(()=>(n.control.setValue(null),B({type:n.type,error:!0})))));this.teacherForm.valid?this.dialogService.openConfirmDialog({title:"\u63D0\u4EA4\u7533\u8ACB",content:"\u78BA\u5B9A\u8981\u63D0\u4EA4\u7533\u8ACB\u55CE\uFF1F"}).pipe(R(n=>n),q(()=>P(e))).subscribe(n=>{let s=n.filter(_=>_.error);if(s.length>0){let _=s.some(v=>v.type==="degree");this.dialogService.openAlertDialog({title:"\u4E0A\u50B3\u5931\u6557",content:_?"\u5B78\u4F4D\u8B49\u660E\u4E0A\u50B3\u5931\u6557":"\u8B49\u7167\u4E0A\u50B3\u5931\u6557"}).closed.subscribe(()=>_?this.currentStepIndex=2:this.currentStepIndex=3)}else this.homeService.apiHomeTeacherApplyPost({postTeacherInfoRequestModel:this.teacherForm.getRawValue()}).pipe(O(_=>(this.dialogService.openAlertDialog({title:"\u63D0\u4EA4\u5931\u6557",content:"\u7533\u8ACB\u63D0\u4EA4\u5931\u6557\uFF0C\u8ACB\u91CD\u65B0\u63D0\u4EA4"}),D(()=>_))),q(()=>this.dialogService.openAlertDialog({title:"\u63D0\u4EA4\u6210\u529F",content:"\u7533\u8ACB\u5DF2\u63D0\u4EA4\u6210\u529F"}).closed)).subscribe(()=>{this.router.navigate(["/home"])})}):this.dialogService.openAlertDialog({title:"\u586B\u5BEB\u932F\u8AA4",content:"\u8ACB\u586B\u5BEB\u5B8C\u6574\u8CC7\u6599"}).closed.subscribe()}addGroup(a){switch(a){case"work_experience":this.work_experiences.push(this.teacherFormService.createWorkExperience());break;case"teaching_certificate":this.teaching_certificates.push(this.teacherFormService.createTeachingCertificate());break}}removeGroup(a,e){switch(a){case"work_experience":this.work_experiences.removeAt(e);break;case"teaching_certificate":this.teaching_certificates.removeAt(e);break}}getCategoryLabel(a){return this.tagOptions.find(n=>n.value===a)?.main_category||""}getSubCategoryOptions(a){return this.tagOptions.find(n=>n.value===a)?.sub_category||[]}handleCategoryChange(a){let e=this.teacherForm.controls.categories,n=new Set(a);for(let s=e.controls.length-1;s>=0;s--){let _=e.controls[s];n.has(_.controls.category_id.value)||e.removeAt(s)}a.forEach(s=>{e.controls.some(v=>v.controls.category_id.value===s)||e.push(this.fb.group({category_id:this.fb.control(s,[u.required]),sub_categories:this.fb.control([],[u.required])}))})}handleIsWorkingChange(a,e){let n=this.work_experiences.controls[e],s=n.get("end_year"),_=n.get("end_month");a?(s?.reset(),_?.reset(),s?.disable(),_?.disable(),s?.setValidators(null),_?.setValidators(null)):(s?.enable(),_?.enable(),s?.setValidators([u.required]),_?.setValidators([u.required])),s?.updateValueAndValidity()}handleIsInSchoolChange(a){let e=this.learning_experience,n=e.get("end_year"),s=e.get("end_month");a?(n?.reset(),s?.reset(),n?.disable(),s?.disable(),n?.setValidators(null),s?.setValidators(null)):(n?.enable(),s?.enable(),n?.setValidators([u.required]),s?.setValidators([u.required])),n?.updateValueAndValidity()}handleFileChange(a,e,n){let _=a.target.files?.[0];if(!_)return;e.setValue("hasFile");let v=this.uploadQueue.find(be=>be.control===e);v?v.file=_:this.uploadQueue.push({file:_,type:n,control:e})}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=j({type:o,selectors:[["app-teacher-apply-page"]],standalone:!0,features:[Y],decls:14,vars:8,consts:[["learningExperienceFile",""],["certificateFile",""],[1,"flex","w-full","flex-col","items-center","px-6","py-8","md:px-[100px]","lg:px-[200px]"],[1,"w-full"],[1,"relative","mb-[80px]","flex","w-full","items-center","justify-between"],[1,"absolute","left-0","top-1/2","h-0.5","w-full","-translate-y-[1px]","bg-tmf-orange-2"],[1,"absolute","left-0","top-1/2","h-0.5","w-full","-translate-y-[1px]","bg-tmf-orange-1","transition-all","duration-500"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],[1,"mt-16","flex","justify-end","gap-6"],["type","button",1,"select-none","rounded-lg","bg-tmf-orange-1","px-6","py-3","text-center","align-middle","font-sans","text-xs","font-bold","uppercase","text-white","shadow-md","shadow-tmf-orange-1/10","transition-all","hover:shadow-lg","hover:shadow-tmf-orange-1/20","focus:opacity-[0.85]","focus:shadow-none","active:opacity-[0.85]","active:shadow-none","disabled:pointer-events-none","disabled:opacity-50","disabled:shadow-none",3,"click","disabled"],["type","button",1,"select-none","rounded-lg","bg-tmf-orange-1","px-6","py-3","text-center","align-middle","font-sans","text-xs","font-bold","uppercase","text-white","shadow-md","shadow-tmf-orange-1/10","transition-all","hover:shadow-lg","hover:shadow-tmf-orange-1/20","focus:opacity-[0.85]","focus:shadow-none","active:opacity-[0.85]","active:shadow-none","disabled:pointer-events-none","disabled:opacity-50","disabled:shadow-none",3,"click","disabled","hidden"],["type","button",1,"select-none","rounded-lg","bg-tmf-orange-1","px-6","py-3","text-center","align-middle","font-sans","text-xs","font-bold","uppercase","text-white","shadow-md","shadow-tmf-orange-1/10","transition-all","hover:shadow-lg","hover:shadow-tmf-orange-1/20","focus:opacity-[0.85]","focus:shadow-none","active:opacity-[0.85]","active:shadow-none","disabled:pointer-events-none","disabled:opacity-50","disabled:shadow-none",3,"click","hidden"],[1,"flex","translate-y-1/4","flex-col","items-center"],[1,"flex","h-12","items-center","pb-6"],[1,"relative","z-10","grid","h-4","w-4","place-items-center","rounded-full","font-bold","transition-all","duration-300",3,"ngClass"],[1,"absolute","bottom-0","flex","items-center","whitespace-nowrap","text-[12px]","md:text-[14px]","lg:text-[16px]",3,"ngClass"],[3,"formGroup"],[1,"w-full","md:px-6","md:py-4"],[1,"flex","flex-col","gap-4","transition-all",3,"ngClass"],[1,"text-xl","font-bold"],["label","\u570B\u5BB6","formControlName","nationality",1,"bg-white","text-gray-700",3,"isRequired","multiSelect"],[3,"value","label",4,"ngFor","ngForOf"],["label","\u6559\u6388\u79D1\u76EE","info","*\u60A8\u6700\u591A\u53EA\u80FD\u6559\u6388\u4E09\u7A2E\u79D1\u76EE",1,"bg-white","text-gray-700",3,"selectChange","formControl","isRequired","multiSelect","maxSelected"],[3,"selected","value","label",4,"ngFor","ngForOf"],[1,"flex","flex-col"],[1,"mb-1","ml-1","inline-block","text-sm","font-medium","text-tmf-gray-2","md:text-[15px]","md:leading-6"],[1,"mb-2","ml-1","text-sm","text-gray-500"],[1,"flex","flex-col","gap-4",3,"ngClass"],[1,"to-gray-500","text-xl","font-bold"],["formArrayName","work_experiences",1,"flex","flex-col","gap-y-5"],[1,"rounded-lg","border","p-4",3,"formGroupName"],[1,"flex","cursor-pointer","items-center","text-tmf-orange-1",3,"click"],[1,"material-icons-outlined"],[3,"formGroupName"],[1,"mb-6","flex"],["label","\u6211\u662F\u5728\u6821\u751F\uFF0C\u76EE\u524D\u5C31\u8B80\u4E2D","direct","horizontal",3,"checkedChange","formControlName"],[1,"mb-6","flex","flex-col","justify-between","gap-6","md:flex-row"],[1,"flex","flex-1","flex-col","gap-2"],[1,"text-red-500"],[1,"flex","flex-col","justify-between","gap-4","md:flex-row"],["placeholder","\u5E74\u4EFD",1,"bg-white","text-gray-700",3,"multiSelect","formControlName"],["placeholder","\u6708\u4EFD",1,"bg-white","text-gray-700",3,"multiSelect","formControlName"],["label","\u5730\u9EDE",1,"mb-6","bg-white","text-gray-700",3,"isRequired","multiSelect","formControlName"],[1,"w-full",3,"label","isRequired","inputType","formControlName"],["label","\u5B78\u4F4D",1,"mb-6","bg-white","text-gray-700",3,"isRequired","multiSelect","formControlName"],[1,"flex","flex-col","gap-2"],[1,"inline-block","text-sm","font-medium","text-tmf-gray-2","md:text-[15px]","md:leading-6"],["type","file","hidden","",3,"change"],["type","button",1,"shadow-white-1/10","hover:shadow-white-1/20","select-none","rounded-lg","border","bg-white","px-6","py-3","text-center","align-middle","font-sans","text-xs","font-bold","uppercase","text-black","shadow-md","transition-all","hover:shadow-lg","focus:opacity-[0.85]","focus:shadow-none","active:opacity-[0.85]","active:shadow-none","disabled:pointer-events-none","disabled:opacity-50","disabled:shadow-none",3,"click"],[1,"flex","flex-wrap","gap-1","to-gray-500","text-xl","font-bold"],[1,"ml-2","inline-block","text-sm","text-gray-300"],["formArrayName","teaching_certificates"],[3,"value","label"],[1,"bg-white","text-gray-700",3,"label","multiSelect","maxSelected","isRequired","formControl"],[1,"mb-6","flex","justify-between"],["formControlName","is_working","label","\u662F\u5426\u5728\u8077\u4E2D","direct","horizontal",3,"checkedChange"],[1,"h-6","w-6","rounded-full","bg-red-500","hover:bg-red-700",3,"click"],[1,"material-icons-outlined","text-white"],["label","\u516C\u53F8\u540D\u7A31",1,"w-full",3,"isRequired","inputType","formControlName"],["label","\u8077\u52D9\u985E\u5225",1,"mb-6","bg-white","text-gray-700",3,"isRequired","multiSelect","formControlName"],[1,"flex","flex-col","justify-between","gap-3","md:flex-row"],[1,"flex","justify-end"],["label","\u8B49\u7167\u79D1\u76EE",1,"mb-6","bg-white","text-gray-700",3,"multiSelect","formControlName","isRequired"],["label","\u8B49\u7167\u985E\u5225",1,"mb-6","bg-white","text-gray-700",3,"multiSelect","formControlName","isRequired"]],template:function(e,n){e&1&&(c(0,"div",2)(1,"div",3)(2,"div",4),f(3,"div",5)(4,"div",6),d(5,Se,6,10,"ng-container",7),p(),d(6,Ye,77,55,"form",8),c(7,"div",9)(8,"button",10),h("click",function(){return n.prevStep()}),m(9," \u4E0A\u4E00\u6B65 "),p(),c(10,"button",11),h("click",function(){return n.nextStep()}),m(11," \u4E0B\u4E00\u6B65 "),p(),c(12,"button",12),h("click",function(){return n.onSubmit()}),m(13," \u5B8C\u6210 "),p()()()()),e&2&&(l(4),M("width",n.currentStepIndex/(n.steps.length-1)*100,"%"),l(),r("ngForOf",n.steps),l(),r("ngIf",n.teacherForm),l(2),r("disabled",n.currentStepIndex===0),l(2),r("disabled",n.currentStepIndex===n.steps.length-1)("hidden",n.currentStepIndex===n.steps.length-1),l(2),r("hidden",n.currentStepIndex!==n.steps.length-1))},dependencies:[X,J,U,K,ce,ie,ee,te,ne,re,ae,oe,le,de,me,se,ue]});let t=o;return t})();export{pt as default};
