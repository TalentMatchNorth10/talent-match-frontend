import{b as H}from"./chunk-DFTX4E4X.js";import{b as D,c as M}from"./chunk-LVRRSONG.js";import{c as $,f as A}from"./chunk-DDXRFZGT.js";import"./chunk-CJ7P5242.js";import{g as B,k as w}from"./chunk-74AGBKJB.js";import{$a as c,Ca as j,Fa as s,Ra as b,Sa as F,U as g,Va as h,Wa as v,X as p,Xa as _,Ya as y,Za as e,_a as t,db as T,ea as E,eb as f,fa as k,fb as u,hb as r,ib as C,jb as d,mb as x,ob as I}from"./chunk-BZO4J33P.js";import"./chunk-2XJVAMHT.js";var P=i=>({"border-b border-tmf-gray-5 pb-2 mb-2":i});function z(i,n){i&1&&c(0,"img",28)}function G(i,n){if(i&1&&(e(0,"li",21)(1,"div",27),b(2,z,1,0,"img",28),t(),e(3,"div",29)(4,"div",30)(5,"div",31),r(6),t(),e(7,"div",31),r(8),t()(),e(9,"p",32),r(10),t(),e(11,"div",33)(12,"p",34),r(13),t(),e(14,"p",35),r(15),t()()()()),i&2){let a=n.$implicit;s(2),h(2,a.image?2:-1),s(4),d(" ",a.main_category," "),s(2),d(" ",a.sub_category," "),s(2),d(" ",a.name," "),s(3),d(" ",a.quantity,"\u5802\u8AB2\u7A0B "),s(2),d("NT$\uFF1A",a.price,"")}}function N(i,n){if(i&1){let a=T();e(0,"div",26)(1,"button",36)(2,"span",37),r(3,"handshake"),t(),r(4," \u6211\u8981\u958B\u8AB2 "),t(),e(5,"button",38),f("click",function(){E(a);let l=u();return k(l.redirect("/login"))}),e(6,"span",37),r(7,"handshake"),t(),r(8," \u767B\u5165/\u8A3B\u518A "),t()()}}function q(i,n){if(i&1&&c(0,"img",41),i&2){let a=u(2);F("src",a.user.avator_image,j)}}function R(i,n){if(i&1){let a=T();e(0,"li",46),f("click",function(){let l=E(a).$implicit,m=u(3);return k(m.handleMenuClick(l))}),e(1,"span",47),r(2),t(),e(3,"p"),r(4),t()()}if(i&2){let a=n.$implicit,o=n.$index,l=n.$count,m=u(),S=m.$index,V=m.$count;F("ngClass",I(3,P,o===l-1&&S!==V-1)),s(2),C(a.icon),s(2),C(a.label)}}function Z(i,n){if(i&1&&_(0,R,5,5,"li",45,v),i&2){let a=n.$implicit;y(a)}}function J(i,n){if(i&1&&(e(0,"div",39)(1,"div",40),b(2,q,1,1,"img",41),t(),e(3,"p",42),r(4),t(),e(5,"div",43)(6,"ul",44),_(7,Z,2,0,null,null,v),t()()()),i&2){let a=u();s(2),h(2,a.user.avator_image?2:-1),s(2),d(" ",a.user.nick_name," "),s(3),y(a.userMenuList)}}var O=(()=>{let n=class n{constructor(){this.userService=g(A),this.router=g(M),this.authStatusService=g(H),this.shopService=g($),this.user=null,this.selectCity="\u53F0\u5317\u5E02",this.userMenuList=[[{icon:"face",label:"\u5B78\u751F\u500B\u4EBA\u7BA1\u7406"},{icon:"face",label:"\u6559\u5E2B\u8CC7\u8A0A\u7BA1\u7406"},{icon:"smart_display",label:"\u5F71\u7247\u7BA1\u7406"},{icon:"edit_calendar",label:"\u884C\u4E8B\u66C6\u7BA1\u7406"},{icon:"description",label:"\u8AB2\u7A0B\u7BA1\u7406"},{icon:"account_balance_wallet",label:"\u4EA4\u6613\u7D00\u9304"},{icon:"settings",label:"\u5E33\u6236\u7BA1\u7406"}],[{icon:"question_answer",label:"\u8A0A\u606F"},{icon:"notifications",label:"\u516C\u544A"}],[{icon:"logout",label:"\u767B\u51FA"}]],this.cartList=[],this.cartTotal={courseCount:0,total:0}}ngOnInit(){this.authStatusService.loginStatus$().subscribe(o=>{o?(this.getUserInfo(),this.getCartList()):this.user=null})}getUserInfo(){this.userService.apiUserUserInfoGet().subscribe({next:o=>{this.user=o.data},error:o=>{console.error(o)}})}getCartList(){this.shopService.apiShopCartGet().subscribe(o=>{this.cartList=o.data,this.cartTotal={courseCount:o.data.length,total:o.data.reduce((l,m)=>l+m.price,0)}})}redirect(o){this.router.navigate([o])}handleMenuClick(o){switch(o.label){case"\u5B78\u751F\u500B\u4EBA\u7BA1\u7406":this.router.navigate(["/student"]);break;case"\u767B\u51FA":this.authStatusService.logout(),this.router.navigate(["/login"]);break;default:break}}};n.\u0275fac=function(l){return new(l||n)},n.\u0275cmp=p({type:n,selectors:[["app-header"]],standalone:!0,features:[x],decls:46,vars:4,consts:[[1,"flex","justify-center","border-b","border-tmf-gray-5"],[1,"relative","flex","h-[64px]","lg:h-[80px]","justify-between","items-center","w-full","px-6","md:px-[32px]","lg:max-w-[1280px]"],[1,"hidden","justify-center","gap-x-6","lg:flex"],[1,"flex","items-center","gap-x-[2px]"],[1,"material-icons-outlined","text-[20px]","text-tmf-orange-1"],[1,"text-[16px]","leading-6"],[1,"material-icons-outlined","text-[20px]","text-tmf-gray-4"],[1,"flex","lg:hidden","cursor-pointer"],[1,"material-icons-outlined","text-[24px]","text-tmf-gray-4"],["src","assets/images/logo.svg","alt","logo",1,"h-[33px]","lg:h-[54px]","cursor-pointer","lg:left-[50%]","lg:-translate-x-[50%]","lg:absolute",3,"click"],[1,"flex","justify-end","items-center","gap-x-10"],[1,"justify-center","mt-2","gap-x-4","flex"],[1,"relative","cursor-pointer"],[1,"p-2","rounded-lg","h-[40px]","w-[48px]","flex","justify-center","items-center","hover:bg-tmf-gray-6","duration-100","active:bg-tmf-gray-5","cursor-pointer"],[1,"material-icons-outlined"],[1,"rounded-full","w-[6px]","h-[6px]","bg-tmf-orange-1","absolute","right-2","top-2"],[1,"relative","group"],[1,"material-icons-outlined","cursor-pointer"],[1,"rounded-full","w-4","h-4","bg-tmf-orange-1","absolute","right-2","top-1","border-2","border-white","flex","justify-center","items-center","text-white","text-[10px]","font-semibold"],[1,"absolute","top-full","bg-white","right-0","lg:left-0","pt-[8px]","lg:pt-[16px]","hidden","group-hover:block"],[1,"py-3","w-[320px]","shadow-lg","rounded-b-[12px]","border-t","border-tmf-purple","bg-white"],[1,"w-full","px-[16px]","min-h-[92px]","border-b","border-tmf-gray-5","py-2","flex","items-start","justify-start","gap-x-3","cursor-pointer","bg-white","hover:bg-tmf-orange-3","active:bg-tmf-orange-2","duration-100"],[1,"flex","flex-col","items-start","w-full","px-[16px]","min-h-[84px]","py-3","bg-white"],[1,"text-[14px]","leading-5","text-tmf-gray-3"],[1,"w-full","flex","justify-between","items-center","text-[16px]","leading-6"],[1,"cursor-pointer","px-4","py-2","text-white","font-bold","bg-tmf-orange-1","rounded-lg",3,"click"],[1,"justify-center","items-center","gap-x-4","hidden","lg:flex"],[1,"w-[84px]","h-[48px]","bg-tmf-gray-3"],["src","","alt","",1,"w-full","h-full"],[1,"flex","flex-col"],[1,"flex","flex-wrap","gap-2","mb-1"],[1,"h-[24px]","text-[12px]","leading-4","p-1","bg-tmf-gray-5","rounded","flex","items-center","justify-center"],[1,"text-[14px]","leading-5","font-bold","mb-2"],[1,"flex","justify-between","items-center","text-[14px]","leading-5"],[1,"text-tmf-gray-3"],[1,"font-medium"],[1,"flex","w-[120px]","h-[40px]","justify-center","items-center","text-tmf-orange-1","border-2","border-tmf-orange-1","rounded-lg","gap-x-1","hover:bg-tmf-orange-1","hover:text-white","duration-100","active:bg-tmf-orange-2","active:text-white"],[1,"material-icons-outlined","!text-[18px]"],[1,"flex","w-[120px]","h-[40px]","justify-center","items-center","bg-tmf-orange-1","text-white","rounded-lg","gap-x-1","hover:bg-tmf-orange-2","duration-100","active:bg-tmf-orange-1",3,"click"],[1,"relative","flex","justify-center","items-center","gap-x-2","group"],[1,"rounded-full","overflow-hidden","shrink-0","w-[44px]","h-[44px]","bg-tmf-gray-5"],["alt","avator_image",3,"src"],[1,"text-[18px]","leading-7","font-medium","hidden","lg:block"],[1,"absolute","top-full","right-0","lg:left-0","pt-[10px]","lg:pt-[18px]","bg-white","hidden","group-hover:block"],[1,"py-3","w-[200px]","shadow-lg","rounded-b-[12px]","border-t","border-tmf-purple","bg-white"],[1,"w-full","px-[26px]","h-[48px]","flex","items-center","justify-start","gap-x-2","cursor-pointer","hover:bg-tmf-orange-3","active:bg-tmf-orange-2","duration-100",3,"ngClass"],[1,"w-full","px-[26px]","h-[48px]","flex","items-center","justify-start","gap-x-2","cursor-pointer","hover:bg-tmf-orange-3","active:bg-tmf-orange-2","duration-100",3,"click","ngClass"],[1,"material-icons-outlined","text-tmf-gray-4"]],template:function(l,m){l&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),r(5,"pin_drop"),t(),e(6,"p",5),r(7),t()(),e(8,"span"),r(9," | "),t(),e(10,"div",3)(11,"span",6),r(12,"expand_more"),t(),e(13,"p",5),r(14,"\u63A2\u7D22"),t()()(),e(15,"button",7)(16,"span",8),r(17,"menu"),t()(),e(18,"img",9),f("click",function(){return m.redirect("/home")}),t(),e(19,"div",10)(20,"div",11)(21,"div",12)(22,"button",13)(23,"span",14),r(24,"notifications"),t(),c(25,"div",15),t()(),e(26,"div",16)(27,"button",13)(28,"span",17),r(29,"shopping_cart"),t(),e(30,"div",18),r(31," 1 "),t()(),e(32,"div",19)(33,"ul",20),_(34,G,16,6,"li",21,v),e(36,"li",22)(37,"p",23),r(38),t(),e(39,"div",24)(40,"p"),r(41),t(),e(42,"button",25),f("click",function(){return m.redirect("/cart")}),r(43," \u524D\u5F80\u7D50\u5E33 "),t()()()()()()(),b(44,N,9,0,"div",26)(45,J,9,2),t()()()),l&2&&(s(7),C(m.selectCity),s(27),y(m.cartList),s(4),d(" \u5171\u8A08 ",m.cartTotal.courseCount," \u9805\u8AB2\u7A0B "),s(3),d("\u7E3D\u8A08 NT$ ",m.cartTotal.total,""),s(3),h(44,m.user?45:44))},dependencies:[w,B],styles:["[_nghost-%COMP%]{display:block}"]});let i=n;return i})();var U=(()=>{let n=class n{};n.\u0275fac=function(l){return new(l||n)},n.\u0275cmp=p({type:n,selectors:[["app-footer"]],standalone:!0,features:[x],decls:25,vars:0,consts:[[1,"h-[372px]","lg:h-[248px]","bg-tmf-gray-1","bg_image","flex","justify-center","items-center","px-5"],[1,"max-w-[1280px]","w-full"],[1,"flex","flex-col","items-center","mb-[48px]","lg:flex-row","lg:justify-between","lg:items-end","lg:mb-3"],["src","/assets/images/footer-logo.svg","alt","",1,"w-[200px]","mb-[29px]","lg:mb-0"],[1,"flex","flex-wrap","gap-x-8","gap-y-5","justify-center","text-[14px]","leading-5","text-white"],[1,"cursor-pointer"],[1,"flex","items-center","gap-y-4","flex-col","lg:flex-row","lg:justify-between","lg:items-end"],[1,"text-[14px]","text-center","leading-5","text-white","order-2","lg:order-1"],[1,"flex","gap-x-4","order-1","lg:order-2"],[1,"w-[40px]","h-[40px]","border","border-tmf-orange-2","rounded-full","flex","justify-center","items-center","cursor-pointer"],["src","assets/images/line.png","alt","line"],["src","assets/images/youtube.png","alt","youtube"],["src","assets/images/facebook.png","alt","facebook"]],template:function(l,m){l&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),c(3,"img",3),e(4,"ul",4)(5,"li",5),r(6,"\u6559\u5E2B\u62DB\u52DF"),t(),e(7,"li",5),r(8,"\u670D\u52D9\u689D\u6B3E"),t(),e(9,"li",5),r(10,"\u95DC\u65BC\u6211\u5011"),t(),e(11,"li",5),r(12,"\u96B1\u79C1\u6B0A\u653F\u7B56"),t(),e(13,"li",5),r(14,"\u4F7F\u7528\u8005\u689D\u6B3E"),t()()(),e(15,"div",6)(16,"p",7),r(17," copyright \xA9 2024 Zhong Feng Lin Fiber Technology Co.,Ltd "),t(),e(18,"ul",8)(19,"li",9),c(20,"img",10),t(),e(21,"li",9),c(22,"img",11),t(),e(23,"li",9),c(24,"img",12),t()()()()())},dependencies:[w],styles:["[_nghost-%COMP%]{display:block}.bg_image[_ngcontent-%COMP%]{background-image:url(/assets/images/footer-bg.png);background-size:auto 210px;background-repeat:no-repeat;background-position:bottom left}@media (max-width: 1024px){.bg_image[_ngcontent-%COMP%]{background-size:auto 100%;background-position:bottom center}}"]});let i=n;return i})();var se=(()=>{let n=class n{};n.\u0275fac=function(l){return new(l||n)},n.\u0275cmp=p({type:n,selectors:[["app-layout"]],standalone:!0,features:[x],decls:5,vars:0,consts:[[1,"flex","flex-col","min-h-[100vh]"],[1,"flex-grow"]],template:function(l,m){l&1&&(e(0,"div",0),c(1,"app-header"),e(2,"main",1),c(3,"router-outlet"),t(),c(4,"app-footer"),t())},dependencies:[D,O,U]});let i=n;return i})();export{se as default};
