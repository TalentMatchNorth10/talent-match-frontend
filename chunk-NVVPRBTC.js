import{a as ye}from"./chunk-BZFVS2MS.js";import{c as N,d as L,f as j,g as H,h as A,l as S,m as Ce,n as we}from"./chunk-DCN2FWX2.js";import{b as V}from"./chunk-I7NTJGKY.js";import{a as ge,d as xe}from"./chunk-46HT5QY7.js";import{g as ve,o as be}from"./chunk-AUKVP5L6.js";import"./chunk-BYHWVNAL.js";import{a as fe,b as _e}from"./chunk-D3UE436V.js";import{c as M,e as re,f as $,g as oe,h as ae,k as le}from"./chunk-MEYTX3ZX.js";import{e as se,g as ce,h as pe,k as me,r as de,s as ue}from"./chunk-KTACAWYW.js";import"./chunk-VO67VGZ7.js";import"./chunk-ZTPLRKJ3.js";import{a as he}from"./chunk-Z6HWY7KV.js";import"./chunk-5WI6KTPY.js";import{k as ie,s as ne,v as B}from"./chunk-5R5JJKFA.js";import{Gb as c,Hb as F,Ib as d,Ja as D,Lb as J,Mb as K,Na as s,Nb as Q,Pb as k,Qb as U,Rb as I,Sb as Y,Wb as ee,Xb as te,Za as X,aa as _,db as x,ea as G,fa as T,fb as m,jb as f,kb as Z,lb as w,mb as b,mc as z,nb as y,ob as r,pa as h,pb as i,qa as v,qb as u,ub as C,xb as g,y as W,yb as p,za as q}from"./chunk-J7CIAQUA.js";import"./chunk-MON7YFGF.js";var R={backdropAnimation:N("fade",[H("fade-out",j({opacity:0,visibility:"hidden"})),H("fade-in",j({opacity:.7,visibility:"visible"})),A("fade-out => fade-in",L("200ms")),A("fade-in => fade-out",L("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))]),sidenavAnimation:N("transform",[H("open, open-instant",j({transform:"none",visibility:"visible"})),H("void",j({transform:"translateX(-100%)","box-shadow":"none",visibility:"hidden"})),A("void => open-instant",L("0ms")),A("void <=> open, open-instant => void",L("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var Ie=e=>({"w-[360px]":e}),Be=(e,o)=>({"invisible -z-10":e,"z-20":o}),Le=e=>({"bg-tmf-orange-3":e}),Se=e=>({"-rotate-90":e}),je=e=>({"mb-2 border-b border-tmf-gray-5":e}),He=e=>({"bg-tmf-orange-1 text-white":e});function Ae(e,o){if(e&1&&(r(0,"p",5),c(1),i()),e&2){let t=p();s(),d(" ",t.selectCity.label," ")}}function Me(e,o){if(e&1){let t=C();r(0,"li",46),g("click",function(){let a=h(t).$implicit,l=p();return v(l.searchCity(a.value))}),r(1,"p"),c(2),i()()}if(e&2){let t=o.$implicit;s(2),F(t.label)}}function $e(e,o){if(e&1){let t=C();r(0,"li",52),g("click",function(){let a=h(t).$implicit,l=p(3);return v(l.searchTag(a))}),c(1),i()}if(e&2){let t=o.$implicit;s(),d(" ",t," ")}}function Ve(e,o){if(e&1&&(r(0,"div",49)(1,"ul",50),b(2,$e,2,1,"li",51,w),i()()),e&2){let t=p(2);s(2),y(t.selectTag.sub_category)}}function Oe(e,o){if(e&1){let t=C();r(0,"li",13)(1,"p",47),g("click",function(){let a=h(t).$implicit,l=p();return v(l.selectTag=a)}),c(2),r(3,"span",48),c(4,"expand_more"),i()(),x(5,Ve,4,0,"div",49),i()}if(e&2){let t=o.$implicit,n=p();s(),m("ngClass",I(4,Le,n.selectTag===t)),s(),d(" ",t.main_category," "),s(),m("ngClass",I(6,Se,n.selectTag===t)),s(2),f(5,n.selectTag?5:-1)}}function De(e,o){if(e&1){let t=C();r(0,"tmf-input",53),Q("ngModelChange",function(a){h(t);let l=p();return K(l.searchInputControl,a)||(l.searchInputControl=a),v(a)}),g("clickSearch",function(a){h(t);let l=p();return v(l.search(a))}),i()}if(e&2){let t=p();m("inputType",t.InputType.Search),J("ngModel",t.searchInputControl)}}function Ue(e,o){if(e&1&&(r(0,"div",27),c(1),i()),e&2){let t=p();s(),d(" ",t.cartList.length," ")}}function ze(e,o){if(e&1&&u(0,"img",56),e&2){let t=p().$implicit;m("src",t.image,D)}}function Ne(e,o){if(e&1){let t=C();r(0,"li",54),g("click",function(){let a=h(t).$implicit,l=p();return v(l.redirect("/course-detail/"+a.course_id))}),r(1,"div",55),x(2,ze,1,1,"img",56),i(),r(3,"div",57)(4,"div",58)(5,"div",59),c(6),i(),r(7,"div",59),c(8),i()(),r(9,"p",60),c(10),i(),r(11,"div",61)(12,"p",62),c(13),i(),r(14,"p",63),c(15),i()()()()}if(e&2){let t=o.$implicit;s(2),f(2,t.image?2:-1),s(4),d(" ",t.main_category," "),s(2),d(" ",t.sub_category," "),s(2),d(" ",t.name," "),s(3),d(" ",t.quantity,"\u5802\u8AB2\u7A0B "),s(2),d(" NT$\uFF1A",t.price.toLocaleString()," ")}}function Re(e,o){if(e&1){let t=C();r(0,"div",35)(1,"button",64)(2,"span",65),c(3,"handshake"),i(),c(4," \u6211\u8981\u958B\u8AB2 "),i(),r(5,"button",66),g("click",function(){h(t);let a=p();return v(a.redirect("/login"))}),r(6,"span",65),c(7,"handshake"),i(),c(8," \u767B\u5165/\u8A3B\u518A "),i()()}}function Pe(e,o){if(e&1&&u(0,"img",69),e&2){let t,n=p(2);m("src",(t=n.user())==null?null:t.avator_image,D)}}function We(e,o){if(e&1){let t=C();r(0,"li",74),g("click",function(){let a=h(t).$implicit,l=p(3);return v(l.handleMenuClick(a))}),r(1,"span",75),c(2),i(),r(3,"p"),c(4),i()()}if(e&2){let t=o.$implicit,n=o.$index,a=o.$count,l=p(),E=l.$index,O=l.$count;m("ngClass",I(3,je,n===a-1&&E!==O-1)),s(2),F(t.icon),s(2),F(t.label)}}function Ge(e,o){if(e&1&&b(0,We,5,5,"li",73,w),e&2){let t=o.$implicit;y(t)}}function qe(e,o){if(e&1&&(r(0,"div",67)(1,"div",68),x(2,Pe,1,1,"img",69),i(),r(3,"p",70),c(4),i(),r(5,"div",71)(6,"ul",72),b(7,Ge,2,0,null,null,w),i()()()),e&2){let t,n,a=p();s(2),f(2,(t=a.user())!=null&&t.avator_image?2:-1),s(2),d(" ",(n=a.user())==null?null:n.nick_name," "),s(3),y(a.userMenuList)}}function Xe(e,o){if(e&1&&u(0,"tmf-option",43),e&2){let t=o.$implicit;m("value",t.value)("label",t.label)}}function Ze(e,o){if(e&1){let t=C();r(0,"li",79),g("click",function(){let a=h(t).$implicit,l=p(3);return l.searchTag(a),v(l.toggleSidenav())}),c(1),i()}if(e&2){let t=o.$implicit,n=p(3);m("ngClass",I(2,He,n.currentTag===t)),s(),d(" ",t," ")}}function Je(e,o){if(e&1&&(r(0,"ul",77),b(1,Ze,2,4,"li",78,w),i()),e&2){let t=p().$implicit;s(),y(t.sub_category)}}function Ke(e,o){if(e&1){let t=C();r(0,"li",76),g("click",function(){let a=h(t).$implicit,l=p();return v(l.toggleSelectTag(a))}),c(1),r(2,"span",48),c(3,"expand_more"),i()(),x(4,Je,3,0,"ul",77)}if(e&2){let t=o.$implicit,n=p();s(),d(" ",t.main_category," "),s(),m("ngClass",I(3,Se,n.selectTag===t)),s(2),f(4,n.selectTag===t?4:-1)}}function Qe(e,o){if(e&1){let t=C();r(0,"div",45)(1,"button",80)(2,"span",65),c(3,"handshake"),i(),c(4," \u6211\u8981\u958B\u8AB2 "),i(),r(5,"button",81),g("click",function(){h(t);let a=p();return v(a.redirect("/login"))}),r(6,"span",65),c(7,"handshake"),i(),c(8," \u767B\u5165/\u8A3B\u518A "),i()()}}var Te=(()=>{let o=class o{constructor(){this.router=_($),this.authStatusService=_(V),this.shopService=_(ve),this.commonService=_(he),this.cartService=_(ye),this.user=q(null),this.cityOptions=[],this.selectCityControl=new ce,this.tagOptions=[],this.currentTag="",this.isIndex=!1,this.isOpen=!1,this.userMenuList=[[{icon:"face",label:"\u57FA\u672C\u8CC7\u8A0A\u7BA1\u7406"},{icon:"favorite",label:"\u6536\u85CF\u8AB2\u7A0B"},{icon:"calendar_today",label:"\u884C\u4E8B\u66C6"},{icon:"book",label:"\u5DF2\u8CFC\u8CB7\u8AB2\u7A0B"},{icon:"account_balance_wallet",label:"\u4EA4\u6613\u7D00\u9304"},{icon:"favorite_border",label:"\u559C\u597D\u985E\u5225"}],[{icon:"question_answer",label:"\u8A0A\u606F"},{icon:"notifications",label:"\u516C\u544A"}],[{icon:"logout",label:"\u767B\u51FA"}]],this.cartList=[],this.cartTotal={courseCount:0,total:0},this.searchInputControl="",this.InputType=ge}ngOnInit(){this.getOptions(),this.authStatusService.loginStatus$().subscribe(n=>{n&&this.getCartList()}),this.setIsIndex(window.location.pathname),this.router.events.subscribe(n=>{n instanceof M&&this.setIsIndex(n.url)}),this.cartService.cartChange$.subscribe(()=>{this.getCartList()})}setIsIndex(n){this.isIndex=n==="/home"}getOptions(){this.commonService.apiCommonOptionsCityPost({cityRequestModel:{is_oversea:!1}}).subscribe(n=>{this.cityOptions=[{label:"\u63A2\u7D22\u5168\u90E8",value:"all"},...n.data],this.toggleSelectCity(this.cityOptions[0])}),this.commonService.apiCommonTagGet().subscribe(n=>{this.tagOptions=n.data})}getCartList(){this.shopService.apiShopCartGet().subscribe(n=>{this.cartList=[...n.data],this.cartTotal={courseCount:n.data.length,total:n.data.reduce((a,l)=>a+l.price,0)}})}toggleSidenav(){this.isOpen=!this.isOpen}toggleSelectCity(n){if(n.value===this.selectCityControl.value){this.selectCityControl.setValue(null),this.selectCity=null;return}this.selectCityControl.setValue(n.value),this.selectCity=n}toggleSelectTag(n){if(n===this.selectTag){this.selectTag=null;return}this.selectTag=n}redirect(n){this.router.navigate([n])}handleMenuClick(n){switch(n.label){case"\u57FA\u672C\u8CC7\u8A0A\u7BA1\u7406":this.router.navigate(["/student/info"]);break;case"\u6536\u85CF\u8AB2\u7A0B":this.router.navigate(["/student/favorites"]);break;case"\u884C\u4E8B\u66C6":this.router.navigate(["/student/calendar"]);break;case"\u5DF2\u8CFC\u8CB7\u8AB2\u7A0B":this.router.navigate(["/student/courses"]);break;case"\u4EA4\u6613\u7D00\u9304":this.router.navigate(["/student/record"]);break;case"\u559C\u597D\u985E\u5225":this.router.navigate(["/student/preference"]);break;case"\u767B\u51FA":this.authStatusService.logout(),this.router.navigate(["/login"]);break;default:break}}search(n){let a=n.value.trim();a?this.router.navigateByUrl(`/result-keyword?keyword=${a}`):this.router.navigateByUrl("/result-tag")}searchCity(n){if(n==="all"){this.router.navigateByUrl("/result-tag");return}this.router.navigateByUrl(`/result-tag?cityId=${n}`)}searchTag(n){this.router.navigateByUrl(`/result-tag?mainCategory=${this.selectTag?.main_category}&subCategory=${n}`)}};o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=T({type:o,selectors:[["app-header"]],inputs:{user:[G.SignalBased,"user"]},standalone:!0,features:[k],decls:68,vars:18,consts:[[1,"relative","z-10","flex","justify-center","border-b","border-tmf-gray-5"],[1,"relative","flex","h-[64px]","w-full","items-center","justify-between","px-6","md:px-[32px]","lg:h-[80px]","lg:max-w-[1280px]"],[1,"relative","hidden","h-full","items-center","justify-center","gap-x-6","lg:flex"],[1,"group","flex","h-full","items-center","gap-x-[2px]"],[1,"material-icons-outlined","text-[20px]","text-tmf-orange-1"],[1,"text-[16px]","leading-6"],[1,"absolute","right-0","top-full","hidden","w-[120px]","rounded-b-[12px]","border-t","border-tmf-purple","bg-white","py-3","pt-[8px]","shadow-lg","group-hover:block","lg:left-0","lg:pt-[16px]"],[1,"h-[240px]","overflow-y-auto","rounded-b-[12px]","bg-white"],[1,"flex","w-full","cursor-pointer","items-start","justify-start","gap-x-3","bg-white","px-[16px]","py-2","duration-100","hover:bg-tmf-orange-3","active:bg-tmf-orange-2"],[1,"group","relative","flex","h-full","items-center","gap-x-[2px]"],[1,"material-icons-outlined","text-[20px]","text-tmf-gray-4","duration-100","group-hover:-rotate-90"],[1,"absolute","left-0","top-full","hidden","h-[240px]","overflow-hidden","rounded-b-lg","border-t","border-tmf-purple","bg-white","py-3","shadow-lg","group-hover:block",3,"ngClass"],[1,"h-full","w-[150px]","overflow-y-auto","rounded-b-[12px]","bg-white"],[1,"flex","w-full","cursor-pointer","items-start","justify-center","gap-x-3","bg-white","duration-100"],["placeholder","\u5FEB\u901F\u641C\u5C0B",1,"invisible","w-[200px]","xl:visible",3,"inputType","ngModel"],[1,"flex","cursor-pointer","lg:hidden",3,"click"],[1,"material-icons-outlined","text-[24px]","text-tmf-gray-4"],["src","assets/images/logo.svg","alt","logo",1,"h-[33px]","cursor-pointer","lg:absolute","lg:left-[50%]","lg:h-[54px]","lg:-translate-x-[50%]",3,"click"],[1,"flex","items-center","justify-end","gap-x-3","md:gap-x-10"],[1,"mt-[2px]","flex","items-center","justify-center","gap-x-3","md:gap-x-4"],[1,"relative","cursor-pointer"],[1,"flex","h-[32px]","w-[32px]","cursor-pointer","items-center","justify-center","rounded-lg","p-2","duration-100","hover:bg-tmf-gray-6","active:bg-tmf-gray-5","md:h-[40px]","md:w-[48px]"],[1,"material-icons-outlined"],[1,"absolute","right-1","top-1","h-[4px]","w-[4px]","rounded-full","bg-tmf-orange-1","md:right-2","md:top-2","md:h-[6px]","md:w-[6px]"],[1,"group","md:relative"],[1,"relative","flex","h-[32px]","w-[32px]","cursor-pointer","items-center","justify-center","rounded-lg","p-2","duration-100","hover:bg-tmf-gray-6","active:bg-tmf-gray-5","md:h-[40px]","md:w-[48px]"],[1,"material-icons-outlined","cursor-pointer"],[1,"absolute","right-0","top-0","flex","h-4","w-4","items-center","justify-center","rounded-full","border-2","border-white","bg-tmf-orange-1","text-[10px]","font-semibold","text-white","md:right-2","md:top-1"],[1,"absolute","right-0","top-full","hidden","w-[320px]","rounded-b-xl","bg-white","group-hover:block","md:w-fit","md:pt-[12px]","lg:pt-[20px]"],[1,"w-full","rounded-b-[12px]","border-t","border-tmf-purple","bg-white","py-3","shadow-lg","md:w-[320px]"],[1,"flex","min-h-[92px]","w-full","cursor-pointer","items-start","justify-start","gap-x-3","border-b","border-tmf-gray-5","bg-white","px-[16px]","py-2","duration-100","hover:bg-tmf-orange-3","active:bg-tmf-orange-2"],[1,"flex","min-h-[84px]","w-full","flex-col","items-start","bg-white","px-[16px]","py-3"],[1,"text-[14px]","leading-5","text-tmf-gray-3"],[1,"flex","w-full","items-center","justify-between","self-end","text-[16px]","leading-6"],[1,"cursor-pointer","rounded-lg","bg-tmf-orange-1","px-4","py-2","font-bold","text-white",3,"click"],[1,"hidden","items-center","justify-center","gap-x-4","lg:flex"],[1,"fixed","left-0","top-0","h-screen","w-full",3,"ngClass"],[1,"h-full","w-full","bg-tmf-gray-5","duration-100",3,"click"],[1,"absolute","left-0","top-0","flex","h-full","w-[320px]","flex-col","overflow-auto","bg-white","px-6","py-8","!opacity-100"],[1,"material-icons-outlined","mb-5","cursor-pointer","text-[24px]","text-tmf-gray-2",3,"click"],[1,"mb-5","flex","items-center","gap-4"],[1,"whitespace-nowrap","text-[16px]","font-bold","leading-6"],[1,"!w-full","max-w-[180px]",3,"selectChange","formControl","icon"],[3,"value","label"],[1,"mb-[40px]","flex","flex-grow","flex-col"],[1,"flex","flex-col","items-center","justify-center","gap-4"],[1,"flex","w-full","cursor-pointer","items-start","justify-start","gap-x-3","bg-white","px-[16px]","py-2","duration-100","hover:bg-tmf-orange-3","active:bg-tmf-orange-2",3,"click"],[1,"flex","items-center","gap-2","px-[16px]","py-3","active:bg-tmf-orange-2",3,"click","ngClass"],[1,"material-icons-outlined","text-tmf-gray-4","duration-100",3,"ngClass"],[1,"absolute","right-0","top-0","h-[240px]","w-[200px]","overflow-y-auto","bg-white","py-3"],[1,"grid","grid-cols-2"],[1,"relative","col-span-1","flex","h-fit","justify-center","px-[16px]","py-3","text-center","hover:bg-tmf-orange-3","active:bg-tmf-orange-2"],[1,"relative","col-span-1","flex","h-fit","justify-center","px-[16px]","py-3","text-center","hover:bg-tmf-orange-3","active:bg-tmf-orange-2",3,"click"],["placeholder","\u5FEB\u901F\u641C\u5C0B",1,"invisible","w-[200px]","xl:visible",3,"ngModelChange","clickSearch","inputType","ngModel"],[1,"flex","min-h-[92px]","w-full","cursor-pointer","items-start","justify-start","gap-x-3","border-b","border-tmf-gray-5","bg-white","px-[16px]","py-2","duration-100","hover:bg-tmf-orange-3","active:bg-tmf-orange-2",3,"click"],[1,"h-[48px]","w-[84px]","bg-tmf-gray-3"],["alt","",1,"h-full","w-full",3,"src"],[1,"flex","flex-grow","flex-col"],[1,"mb-1","flex","flex-wrap","gap-2"],[1,"flex","h-[24px]","items-center","justify-center","rounded","bg-tmf-gray-5","p-1","text-[12px]","leading-4"],[1,"mb-2","text-[14px]","font-bold","leading-5"],[1,"flex","items-center","justify-between","text-[14px]","leading-5"],[1,"text-tmf-gray-3"],[1,"font-medium"],[1,"flex","h-[40px]","w-[120px]","items-center","justify-center","gap-x-1","rounded-lg","border-2","border-tmf-orange-1","text-tmf-orange-1","duration-100","hover:bg-tmf-orange-1","hover:text-white","active:bg-tmf-orange-2","active:text-white"],[1,"material-icons-outlined","!text-[18px]"],[1,"flex","h-[40px]","w-[120px]","items-center","justify-center","gap-x-1","rounded-lg","bg-tmf-orange-1","text-white","duration-100","hover:bg-tmf-orange-2","active:bg-tmf-orange-1",3,"click"],[1,"group","relative","flex","items-center","justify-center","gap-x-2"],[1,"h-[32px]","w-[32px]","shrink-0","overflow-hidden","rounded-full","bg-tmf-gray-5","md:h-[44px]","md:w-[44px]"],["alt","avator_image",3,"src"],[1,"hidden","text-[18px]","font-medium","leading-7","lg:block"],[1,"absolute","right-0","top-full","hidden","pt-[16px]","group-hover:block","md:pt-[10px]","lg:left-0","lg:pt-[18px]"],[1,"w-[200px]","rounded-b-[12px]","border-t","border-tmf-purple","bg-white","py-3","shadow-lg"],[1,"flex","h-[48px]","w-full","cursor-pointer","items-center","justify-start","gap-x-2","px-[26px]","duration-100","hover:bg-tmf-orange-3","active:bg-tmf-orange-2",3,"ngClass"],[1,"flex","h-[48px]","w-full","cursor-pointer","items-center","justify-start","gap-x-2","px-[26px]","duration-100","hover:bg-tmf-orange-3","active:bg-tmf-orange-2",3,"click","ngClass"],[1,"material-icons-outlined","text-tmf-gray-4"],[1,"flex","h-[48px]","flex-shrink-0","items-center","justify-between","border-b","border-tmf-gray-6",3,"click"],[1,"max-h-[300px]","overflow-auto"],[1,"flex","h-[48px]","items-center","justify-between","border-b","border-tmf-gray-6","px-2","duration-100","hover:bg-tmf-orange-3","active:bg-tmf-orange-2",3,"ngClass"],[1,"flex","h-[48px]","items-center","justify-between","border-b","border-tmf-gray-6","px-2","duration-100","hover:bg-tmf-orange-3","active:bg-tmf-orange-2",3,"click","ngClass"],[1,"flex","h-[50px]","w-full","items-center","justify-center","gap-x-1","rounded-lg","border-2","border-tmf-orange-1","text-tmf-orange-1","duration-100","hover:bg-tmf-orange-1","hover:text-white","active:bg-tmf-orange-2","active:text-white"],[1,"flex","h-[50px]","w-full","items-center","justify-center","gap-x-1","rounded-lg","bg-tmf-orange-1","text-white","duration-100","hover:bg-tmf-orange-2","active:bg-tmf-orange-1",3,"click"]],template:function(a,l){a&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),c(5,"pin_drop"),i(),x(6,Ae,2,1,"p",5),r(7,"div",6)(8,"ul",7),b(9,Me,3,1,"li",8,w),i()()(),r(11,"span"),c(12," | "),i(),r(13,"div",9)(14,"span",10),c(15,"expand_more"),i(),r(16,"p",5),c(17,"\u63A2\u7D22"),i(),r(18,"div",11)(19,"ul",12),b(20,Oe,6,8,"li",13,w),i()()(),x(22,De,1,2,"tmf-input",14),i(),r(23,"button",15),g("click",function(){return l.toggleSidenav()}),r(24,"span",16),c(25,"menu"),i()(),r(26,"img",17),g("click",function(){return l.redirect("/home")}),i(),r(27,"div",18)(28,"div",19)(29,"div",20)(30,"button",21)(31,"span",22),c(32,"notifications"),i(),u(33,"div",23),i()(),r(34,"div",24)(35,"button",25)(36,"span",26),c(37,"shopping_cart"),i(),x(38,Ue,2,1,"div",27),i(),r(39,"div",28)(40,"ul",29),b(41,Ne,16,6,"li",30,w),r(43,"li",31)(44,"p",32),c(45),i(),r(46,"div",33)(47,"p"),c(48),i(),r(49,"button",34),g("click",function(){return l.redirect("/cart")}),c(50," \u524D\u5F80\u7D50\u5E33 "),i()()()()()()(),x(51,Re,9,0,"div",35)(52,qe,9,2),i()()(),r(53,"div",36)(54,"div",37),g("click",function(){return l.toggleSidenav()}),i(),r(55,"div",38)(56,"span",39),g("click",function(){return l.toggleSidenav()}),c(57,"close"),i(),r(58,"div",40)(59,"p",41),c(60," \u9078\u64C7\u5730\u5340 "),i(),r(61,"tmf-select",42),g("selectChange",function(O){return l.searchCity(O),l.toggleSidenav()}),b(62,Xe,1,2,"tmf-option",43,w),i()(),r(64,"ul",44),b(65,Ke,5,5,null,null,w),i(),x(67,Qe,9,0,"div",45),i()()),a&2&&(s(6),f(6,l.selectCity?6:-1),s(3),y(l.cityOptions),s(9),m("ngClass",I(13,Ie,l.selectTag)),s(2),y(l.tagOptions),s(2),f(22,l.isIndex?-1:22),s(16),f(38,l.cartList&&l.cartList.length>0?38:-1),s(3),y(l.cartList),s(4),d(" \u5171\u8A08 ",l.cartTotal.courseCount," \u9805\u8AB2\u7A0B "),s(3),d("\u7E3D\u8A08 NT$ ",l.cartTotal.total.toLocaleString(),""),s(3),f(51,l.user()?52:51),s(2),m("ngClass",Y(15,Be,!l.isOpen,l.isOpen)),s(),m("@fade",l.isOpen?"fade-in":"fade-out"),s(),m("@transform",l.isOpen?"open":"void"),s(6),m("formControl",l.selectCityControl)("icon","pin_drop"),s(),y(l.cityOptions),s(3),y(l.tagOptions),s(2),f(67,l.user()?-1:67))},dependencies:[B,ie,ue,se,me,_e,fe,xe,de,pe],styles:["[_nghost-%COMP%]{display:block}"],data:{animation:[R.sidenavAnimation,R.backdropAnimation]}});let e=o;return e})();var ke=(()=>{let o=class o{};o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=T({type:o,selectors:[["app-footer"]],standalone:!0,features:[k],decls:25,vars:0,consts:[[1,"bg_image","flex","h-[372px]","items-center","justify-center","bg-tmf-gray-1","px-5","lg:h-[248px]"],[1,"w-full","max-w-[1280px]"],[1,"mb-[48px]","flex","flex-col","items-center","lg:mb-3","lg:flex-row","lg:items-end","lg:justify-between"],["src","/assets/images/footer-logo.svg","alt","",1,"mb-[29px]","w-[200px]","lg:mb-0"],[1,"flex","flex-wrap","justify-center","gap-x-8","gap-y-5","text-[14px]","leading-5","text-white"],[1,"cursor-pointer"],[1,"flex","flex-col","items-center","gap-y-4","lg:flex-row","lg:items-end","lg:justify-between"],[1,"order-2","text-center","text-[14px]","leading-5","text-white","lg:order-1"],[1,"order-1","flex","gap-x-4","lg:order-2"],[1,"flex","h-[40px]","w-[40px]","cursor-pointer","items-center","justify-center","rounded-full","border","border-tmf-orange-2"],["src","assets/images/line.png","alt","line"],["src","assets/images/youtube.png","alt","youtube"],["src","assets/images/facebook.png","alt","facebook"]],template:function(a,l){a&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),u(3,"img",3),r(4,"ul",4)(5,"li",5),c(6,"\u6559\u5E2B\u62DB\u52DF"),i(),r(7,"li",5),c(8,"\u670D\u52D9\u689D\u6B3E"),i(),r(9,"li",5),c(10,"\u95DC\u65BC\u6211\u5011"),i(),r(11,"li",5),c(12,"\u96B1\u79C1\u6B0A\u653F\u7B56"),i(),r(13,"li",5),c(14,"\u4F7F\u7528\u8005\u689D\u6B3E"),i()()(),r(15,"div",6)(16,"p",7),c(17," copyright \xA9 2024 Zhong Feng Lin Fiber Technology Co.,Ltd "),i(),r(18,"ul",8)(19,"li",9),u(20,"img",10),i(),r(21,"li",9),u(22,"img",11),i(),r(23,"li",9),u(24,"img",12),i()()()()())},dependencies:[B],styles:["[_nghost-%COMP%]{display:block}.bg_image[_ngcontent-%COMP%]{background-image:url(/assets/images/footer-bg.png);background-size:auto 210px;background-repeat:no-repeat;background-position:bottom left}@media (max-width: 1024px){.bg_image[_ngcontent-%COMP%]{background-size:auto 100%;background-position:bottom center}}"]});let e=o;return e})();function Ye(e,o){e&1&&(r(0,"div",0),u(1,"img",1),i())}var Ee=(()=>{let o=class o{constructor(){this.loadingService=_(we),this.isLoading=this.loadingService.loading$}};o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=T({type:o,selectors:[["tmf-loading"]],standalone:!0,features:[k],decls:2,vars:3,consts:[[1,"fixed","left-0","top-0","z-[1000]","flex","h-full","w-full","items-center","justify-center","rounded-2xl","bg-tmf-gray-6/50"],["src","/assets/images/loading.svg","alt","",1,"h-[60px]","w-[60px]","animate-spin","text-tmf-orange-1"]],template:function(a,l){a&1&&(x(0,Ye,2,0,"div",0),ee(1,"async")),a&2&&f(0,te(1,1,l.isLoading)?0:-1)},dependencies:[B,ne],encapsulation:2});let e=o;return e})();var et=()=>["bg-tmf-orange-1","!text-white"],tt=()=>({exact:!0});function it(e,o){e&1&&(r(0,"main",2),u(1,"router-outlet"),i())}function nt(e,o){if(e&1&&(r(0,"li",10)(1,"a",13)(2,"span",14),c(3),i(),r(4,"p",15),c(5),i()()()),e&2){let t=o.$implicit;m("routerLinkActive",U(5,et))("routerLinkActiveOptions",U(6,tt)),s(),m("routerLink",t.path),s(2),F(t.icon),s(2),F(t.title)}}function rt(e,o){if(e&1&&(r(0,"a",11)(1,"span",14),c(2,"restart_alt"),i(),r(3,"p",15),c(4),i()()),e&2){let t=p(2);m("routerLink",t.changeIdentity().path),s(4),d("\u5207\u63DB\u70BA",t.changeIdentity().text,"")}}function ot(e,o){if(e&1&&(r(0,"main",4)(1,"div",5)(2,"div",6)(3,"p",7),c(4,"\u500B\u4EBA\u7BA1\u7406"),i(),r(5,"div",8),c(6),i()(),r(7,"ul",9),b(8,nt,6,7,"li",10,Z),i(),x(10,rt,5,2,"a",11),i(),r(11,"div",12),u(12,"router-outlet")(13,"tmf-loading"),i()()),e&2){let t,n=p();s(6),d(" ",n.identityText()," "),s(2),y(n.menuList()),s(2),f(10,(t=n.user())!=null&&t.is_teacher?10:-1)}}var Ot=(()=>{let o=class o{constructor(){this.router=_($),this.menuService=_(Ce),this.authStatusService=_(V),this.userService=_(be),this.user=X(null),this.state=null,this.menuList=this.menuService.menuListSig,this.identity=this.menuService.identitySig,this.identityText=z(()=>this.identity()===S.STUDENT?"\u5B78\u751F":"\u8001\u5E2B"),this.changeIdentity=z(()=>({text:this.identity()===S.STUDENT?"\u8001\u5E2B":"\u5B78\u751F",path:this.identity()===S.STUDENT?"/teacher":"/student"})),this.IdentityType=S,this.router.events.pipe(W(n=>n instanceof M)).subscribe(n=>{let a=n.url;a.startsWith("/student")?this.menuService.updateMenuList(S.STUDENT):a.startsWith("/teacher")?this.menuService.updateMenuList(S.TEACHER):this.menuService.updateMenuList(S.DEFAULT)}),this.authStatusService.loginStatus$().subscribe(n=>{n?this.userService.apiUserUserInfoGet().subscribe(a=>{this.user.set(a.data),this.menuService.updateMenuList(!a.data.is_teacher&&this.identity()===S.TEACHER?S.STUDENT:this.identity())}):this.user.set(null)})}};o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=T({type:o,selectors:[["app-layout"]],standalone:!0,features:[k],decls:5,vars:2,consts:[[1,"flex","min-h-[100vh]","flex-col"],[1,"relative","z-50",3,"user"],[1,"relative","z-40","min-h-screen","flex-grow"],[1,"relative","z-30"],[1,"relative","z-40","mx-auto","mb-12","mt-6","w-full","max-w-[1280px]","flex-grow","gap-6","px-6","md:flex"],[1,"hidden","max-h-[768px]","rounded-xl","bg-white","p-6","shadow-lg","md:block","md:min-w-[13.25rem]"],[1,"mb-6","flex","items-center","justify-between"],[1,"text-xl","font-bold"],[1,"rounded","bg-tmf-gray-7","px-2","py-1","text-base","font-bold","text-tmf-orange-1"],[1,"mb-6","flex","min-h-[36.5rem]","flex-col","gap-1"],[1,"cursor-pointer","rounded-xl","text-tmf-gray-2","hover:bg-tmf-orange-1","hover:text-white",3,"routerLinkActive","routerLinkActiveOptions"],[1,"flex","items-center","justify-between","gap-3","rounded-xl","bg-tmf-orange-1","p-4","text-white",3,"routerLink"],[1,"manage-content","relative","rounded-2xl","bg-white","px-5","py-6","shadow-lg"],[1,"flex","items-center","justify-between","gap-3","px-2","py-3",3,"routerLink"],[1,"material-icons-outlined"],[1,"grow"]],template:function(a,l){a&1&&(r(0,"div",0),u(1,"app-header",1),x(2,it,2,0,"main",2)(3,ot,14,2),u(4,"app-footer",3),i()),a&2&&(s(),m("user",l.user()),s(),f(2,l.identity()===l.IdentityType.DEFAULT?2:3))},dependencies:[le,re,oe,ae,Te,ke,Ee],styles:["@media screen and (min-width: 768px){.manage-content[_ngcontent-%COMP%]{width:calc(100% - 14.75rem)}}"]});let e=o;return e})();export{Ot as default};
