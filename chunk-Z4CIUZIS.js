import{b as ee,l as w,m as te,n as ne}from"./chunk-3UP3BDWS.js";import{a as X,b as Y,d as G,e as H,g as J,h as K,l as Z}from"./chunk-232EHXGL.js";import{h as L,m as W}from"./chunk-E5SODJ5T.js";import{Ab as j,Bb as q,Cb as d,Db as N,Eb as x,Gb as U,Hb as A,Jb as C,Mb as Q,N as k,Oa as a,S,Z as b,aa as I,ab as c,cb as u,f as T,fb as m,gb as z,ia as M,ib as R,ja as y,jb as F,ka as _,kb as l,lb as p,mb as B,pa as V,qb as v,ra as E,sa as P,tb as h,ub as s,yb as D,zb as $}from"./chunk-YBTHCYRO.js";var f=function(e){return e.Outline="outline",e.Underline="underline",e.Search="search",e.SearchByType="searchByType",e}(f||{}),O=function(e){return e.Default="default",e.Large="large",e}(O||{});var oe=(e,o,i,n,r,t,g,ie)=>({"bg-tmf-gray-5 cursor-not-allowed":e,"border-b placeholder:text-tmf-gray-3":o,"placeholder:text-tmf-gray-3":i,"!border-tmf-gray-5 !placeholder:text-tmf-gray-5":n,"border rounded-lg":r,"!pr-[38px]":t,"h-[44px] md:h-[48px] lg:h-[52px]":g,"h-[36px] md:h-[38px] lg:h-[40px]":ie}),re=e=>({"bg-tmf-gray-5 cursor-not-allowed":e}),ae=e=>({"rotate-180 text-tmf-orange-1":e}),le=e=>({"text-tmf-gray-3":e}),pe=e=>({"!text-tmf-gray-4 !cursor-not-allowed":e});function se(e,o){e&1&&(l(0,"span",7),d(1,"*"),p())}function ce(e,o){if(e&1&&(l(0,"span",6),d(1),p(),c(2,se,2,0,"span",7)),e&2){let i=s();a(),N(i.label),a(),m(2,i.isRequired?2:-1)}}function de(e,o){if(e&1&&(l(0,"p",9),d(1),p()),e&2){let i=s(2);u("ngClass",C(2,le,i.disabled)),a(),x(" ",i.selectedOption.label," ")}}function ue(e,o){if(e&1){let i=v();l(0,"li",14),h("click",function(){let r=y(i).$implicit,t=s(3);return t.selectedOption=r,_(t.closePanel())}),d(1),p()}if(e&2){let i=o.$implicit;a(),x(" ",i.label," ")}}function me(e,o){if(e&1&&(l(0,"ul",12),R(1,ue,2,1,"li",13,z),p()),e&2){let i=s(2);a(),F(i.options)}}function he(e,o){if(e&1){let i=v();l(0,"div",8,0),h("click",function(){y(i);let r=s();return _(r.open())}),c(2,de,2,4,"p",9),l(3,"span",10),d(4," keyboard_arrow_down "),p()(),c(5,me,3,0,"ng-template",11),h("overlayOutsideClick",function(){y(i);let r=s();return _(r.closePanel())})}if(e&2){let i=q(1),n=s();a(2),m(2,n.selectedOption.label?2:-1),a(),u("ngClass",C(7,ae,n.panelOpen)),a(2),u("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayMinWidth","100px")("cdkConnectedOverlayOffsetY",20)("cdkConnectedOverlayOffsetX",-14)}}function ge(e,o){if(e&1){let i=v();l(0,"span",15),h("click",function(){y(i);let r=s();return _(r.search())}),d(1," search "),p()}if(e&2){let i=s();u("ngClass",C(1,pe,i.disabled))}}function ye(e,o){if(e&1&&(l(0,"p",5),d(1),p()),e&2){let i=s();a(),x(" ",i.errorMessage," ")}}var Pe=(()=>{let o=class o{constructor(){this.inj=b(V),this.viewportRuler=b(ee),this.control=new J(null),this.panelOpen=!1,this.destory$=new T,this._disabled=!1,this.onChange=()=>{},this.onTouched=()=>{},this.placeholder="\u8ACB\u8F38\u5165",this.inputType=f.Underline,this.inputSize=O.Default,this.type="text",this.isRequired=!1,this.label="",this.errorMessage="",this.clickSearch=new P,this.InputType=f,this.InputSize=O}get disabled(){return this._disabled}ngOnChanges(n){n.options&&this.options&&this.options.length>0&&(this.selectedOption=this.options[0])}ngOnInit(){this.ngControl=this.inj.get(G),this.viewportRuler.change().pipe(k(this.destory$)).subscribe(()=>{this.panelOpen&&this.updateRect()})}ngAfterViewInit(){this.control.valueChanges.subscribe(n=>{this.noticeValueChange(n)})}ngOnDestroy(){this.destory$.next(),this.destory$.complete()}search(){this.clickSearch.emit({type:this.inputType===f.SearchByType?this.selectedOption?.value:null,value:this.control.value??""})}open(){this.updateRect(),this.panelOpen=!this.panelOpen}closePanel(){this.panelOpen&&(this.panelOpen=!1)}updateRect(){this.originRect=this.originElement.nativeElement.getBoundingClientRect()}noticeValueChange(n){this.onChange&&n!==this.ngControl.control?.value&&this.onChange(n)}writeValue(n){n!==this.control.value&&this.control.setValue(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this._disabled=n,n&&(this.panelOpen=!1)}};o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=I({type:o,selectors:[["tmf-input"]],viewQuery:function(r,t){if(r&1&&D(w,5,E),r&2){let g;$(g=j())&&(t.originElement=g.first)}},inputs:{placeholder:"placeholder",inputType:"inputType",inputSize:"inputSize",type:"type",isRequired:"isRequired",label:"label",errorMessage:"errorMessage",options:"options"},outputs:{clickSearch:"clickSearch"},standalone:!0,features:[U([{provide:X,useExisting:S(()=>o),multi:!0}]),M,A],decls:7,vars:20,consts:[["origin","cdkOverlayOrigin"],[1,"pb-6","relative"],[1,"input-container",3,"keyup.enter","ngClass"],[1,"input",3,"ngClass","formControl","type","placeholder"],[1,"material-symbols-outlined","input-search-icon",3,"ngClass"],[1,"error-message"],[1,"input-label"],[1,"text-red-500"],["id","searchType","cdkOverlayOrigin","",1,"flex","items-center","mr-4",3,"click"],[1,"whitespace-nowrap","mr-1",3,"ngClass"],[1,"material-symbols-outlined","input-selectType-icon",3,"ngClass"],["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"overlayOutsideClick","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","cdkConnectedOverlayOffsetX"],[1,"input-selectType-list"],[1,"input-selectType-item"],[1,"input-selectType-item",3,"click"],[1,"material-symbols-outlined","input-search-icon",3,"click","ngClass"]],template:function(r,t){r&1&&(c(0,ce,3,2),l(1,"div",1)(2,"div",2),h("keyup.enter",function(){return t.search()}),c(3,he,6,9),B(4,"input",3),c(5,ge,2,3,"span",4),p(),c(6,ye,2,1,"p",5),p()),r&2&&(m(0,t.label?0:-1),a(2),u("ngClass",Q(9,oe,t.disabled,t.inputType===t.InputType.Underline,t.inputType===t.InputType.Outline,t.inputType===t.InputType.Search,t.inputType===t.InputType.Outline||t.inputType===t.InputType.Search||t.inputType===t.InputType.SearchByType,t.inputType===t.InputType.Search||t.inputType===t.InputType.SearchByType,t.inputSize===t.InputSize.Large,t.inputSize===t.InputSize.Default)),a(),m(3,t.inputType===t.InputType.SearchByType&&t.selectedOption?3:-1),a(),u("ngClass",C(18,re,t.disabled))("formControl",t.control)("type",t.type)("placeholder",t.placeholder),a(),m(5,t.inputType===t.InputType.Search||t.inputType===t.InputType.SearchByType?5:-1),a(),m(6,t.control.touched&&(t.ngControl.control!=null&&t.ngControl.control.errors)&&t.errorMessage?6:-1))},dependencies:[W,L,Z,Y,H,K,ne,te,w],styles:["[_nghost-%COMP%]{display:block}.input-container[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;align-items:center;--tw-border-opacity: 1;border-color:rgb(159 159 159 / var(--tw-border-opacity));padding-left:.75rem;padding-right:.75rem;transition-duration:75ms}.input-container[_ngcontent-%COMP%]:focus-within{--tw-border-opacity: 1;border-color:rgb(243 105 35 / var(--tw-border-opacity))}.input[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;text-overflow:ellipsis;font-size:14px;line-height:1.25rem;outline:2px solid transparent;outline-offset:2px}@media (min-width: 768px){.input[_ngcontent-%COMP%]{font-size:16px;line-height:1.5rem}}.input-selectType-icon[_ngcontent-%COMP%]{font-size:20px;--tw-text-opacity: 1;color:rgb(159 159 159 / var(--tw-text-opacity));transition-duration:.1s}@media (min-width: 768px){.input-selectType-icon[_ngcontent-%COMP%]{font-size:22px}}.input-selectType-list[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding-top:.75rem;padding-bottom:.75rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.input-selectType-item[_ngcontent-%COMP%]{padding:.75rem 1.5rem;--tw-text-opacity: 1;color:rgb(51 51 51 / var(--tw-text-opacity))}.input-selectType-item[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(254 239 231 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(243 105 35 / var(--tw-text-opacity))}.input-label[_ngcontent-%COMP%]{margin-bottom:.25rem;margin-left:.25rem;display:inline-block;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(51 51 51 / var(--tw-text-opacity))}@media (min-width: 768px){.input-label[_ngcontent-%COMP%]{font-size:15px;line-height:1.5rem}}.input-search-icon[_ngcontent-%COMP%]{position:absolute;right:0;top:.5rem;margin-right:.75rem;cursor:pointer;font-size:22px;--tw-text-opacity: 1;color:rgb(51 51 51 / var(--tw-text-opacity))}@media (min-width: 768px){.input-search-icon[_ngcontent-%COMP%]{top:6px;font-size:24px}}.error-message[_ngcontent-%COMP%]{position:absolute;bottom:0;font-size:14px;--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}"]});let e=o;return e})();export{f as a,O as b,Pe as c};
