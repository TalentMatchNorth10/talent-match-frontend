import{a as T}from"./chunk-CCVQCNON.js";import"./chunk-EMJVME3Q.js";import{b as B}from"./chunk-JTLSH7XX.js";import"./chunk-NVAZTLHP.js";import{a as q}from"./chunk-2G3DZHUO.js";import"./chunk-GCSINQ7C.js";import{f as w}from"./chunk-IB6HTTKJ.js";import"./chunk-4WTDUJWG.js";import"./chunk-B56JPYOY.js";import"./chunk-6WPCKT33.js";import"./chunk-LENADYWN.js";import"./chunk-QFHTBAPR.js";import{u as k}from"./chunk-ULWDSYCR.js";import{Ga as p,Gb as S,Ya as v,_ as c,_a as h,bb as C,da as f,db as x,eb as y,fb as F,gb as r,hb as o,ib as b,ma as u,mb as d,na as l,pb as g,qb as s,yb as _}from"./chunk-MURYLCTF.js";import"./chunk-TMC7WMLO.js";function I(e,i){if(e&1){let a=d();r(0,"tmf-card",3),g("hoverButtonClick",function(t){u(a);let m=s(2);return l(m.handleHoverButtonClicked(t))}),o()}if(e&2){let a=i.$implicit;h("data",a)}}function D(e,i){if(e&1&&(r(0,"div",1),y(1,I,1,1,"tmf-card",2,x),o()),e&2){let a=s();p(),F(a.favoriteList)}}function L(e,i){if(e&1){let a=d();r(0,"div",4)(1,"div",5),b(2,"img",6),o(),r(3,"button",7),g("click",function(){u(a);let t=s();return l(t.navigateToHome())}),_(4," \u524D\u5F80\u6536\u85CF\u8AB2\u7A0B "),o()()}}var G=(()=>{let i=class i{constructor(){this.FavoritesService=c(B),this.router=c(w),this.dialogService=c(T),this.favoriteList=[{course_id:"1",mainImg:"https://fakeimg.pl/300/",title:"\u8AB2\u7A0B\u540D\u7A311",content:"\u8AB2\u7A0B\u5167\u5BB91",avatar:"https://fakeimg.pl/300/",name:"\u8001\u5E2B\u540D\u7A311",price:1e3,quantity:1,main_category:"\u4E3B\u5206\u985E1",sub_category:"\u6B21\u5206\u985E1",rating:4.5,ratingCount:100},{course_id:"2",mainImg:"https://fakeimg.pl/300/",title:"\u8AB2\u7A0B\u540D\u7A312",content:"\u8AB2\u7A0B\u5167\u5BB92",avatar:"https://fakeimg.pl/300/",name:"\u8001\u5E2B\u540D\u7A312",price:2e3,quantity:2,main_category:"\u4E3B\u5206\u985E2",sub_category:"\u6B21\u5206\u985E2",rating:4.5,ratingCount:100},{course_id:"3",mainImg:"https://fakeimg.pl/300/",title:"\u8AB2\u7A0B\u540D\u7A312",content:"\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92\u8AB2\u7A0B\u5167\u5BB92",avatar:"https://fakeimg.pl/300/",name:"\u8001\u5E2B\u540D\u7A312",price:2e3,quantity:2,main_category:"\u4E3B\u5206\u985E2",sub_category:"\u6B21\u5206\u985E2",rating:4.5,ratingCount:100}]}ngOnInit(){}getFavoriteList(){this.FavoritesService.apiFavoritesGet().subscribe(n=>{this.favoriteList=n.data?.favorites?.map(t=>({course_id:t.course_id||"",mainImg:t.main_image||"",title:t.name||"",content:t.content||"",avatar:t.teacher_avator||"",name:t.teacher_name||"",price:t.price_quantity[0].price||0,quantity:t.price_quantity[0].quantity||0,main_category:t.main_category||"",sub_category:t.sub_category||"",rating:t.rate||0,ratingCount:0}))||[]})}handleHoverButtonClicked(n){switch(n.eventType){case"view":this.router.navigate(["/course",n.data.course_id]);break;case"remove":this.dialogService.openConfirmDialog({title:"\u522A\u9664\u8AB2\u7A0B",content:"\u662F\u5426\u78BA\u5B9A\u8981\u522A\u9664\u6B64\u8AB2\u7A0B\uFF1F",confirmBtnText:"\u78BA\u5B9A",btnType:"danger"}).subscribe(t=>{t&&this.FavoritesService.apiFavoritesDelete({favoriteRequestModel:{course_id:n.data.course_id}}).subscribe(()=>{this.getFavoriteList()})});break}}navigateToHome(){this.router.navigate(["/home"])}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=f({type:i,selectors:[["app-student-favorites-page"]],standalone:!0,features:[S],decls:4,vars:1,consts:[[1,"text-[30px]","font-bold","leading-9","mb-10"],[1,"flex","flex-wrap","gap-5"],[3,"data"],[3,"hoverButtonClick","data"],[1,"flex","h-full","flex-col","items-center","justify-center","gap-5"],[1,"h-[160px]","md:h-[240px]"],["src","assets/images/favorite-cart.png","alt","favorite-cart",1,"h-full"],[1,"flex","h-[48px]","w-[260px]","md:w-[300px]","items-center","justify-center","rounded-lg","bg-tmf-orange-1","px-4","text-white",3,"click"]],template:function(t,m){t&1&&(r(0,"h1",0),_(1,"\u6536\u85CF\u8AB2\u7A0B"),o(),v(2,D,3,0,"div",1)(3,L,5,0)),t&2&&(p(2),C(2,m.favoriteList.length!==0?2:3))},dependencies:[k,q]});let e=i;return e})();export{G as default};
