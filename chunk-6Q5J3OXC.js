import{a as B,b as p,c as D,d as I,e as O,f as k,g as K,h as P,i as V}from"./chunk-HEPEXF2E.js";import{d as R}from"./chunk-2BTGPKO7.js";import{b as U}from"./chunk-W4XTPVWN.js";import{h as w}from"./chunk-K5WS2Z7W.js";import{Aa as x,Ca as m,Ea as v,Ia as i,Ja as s,Ka as M,La as y,Ma as E,Na as h,Oa as u,Q as g,Qa as F,Sa as N,T as A,Wa as b,aa as S,ba as _,qa as l}from"./chunk-56PSGFS3.js";import"./chunk-2XJVAMHT.js";var a=function(e){return e.NICK_NAME="nick_name",e.EMAIL="email",e.PASSWORD="password",e.CONFIRM_PASSWORD="confirm_password",e}(a||{});var c=function(e){return e.NotMatch="notMatch",e}(c||{});function L(e,n){return d=>{let o=d.get(e),t=d.get(n);return!o||!t||t.errors&&!t.errors[c.NotMatch]||(o.value!==t.value?t.setErrors({[c.NotMatch]:!0}):t.setErrors(null)),null}}var W={match:L};function T(e,n){if(e&1&&(i(0,"p",17),u(1),s()),e&2){let d=h().data,o=h();l(),F(" ",o.getErrorMessage(d.key)," ")}}function q(e,n){if(e&1&&(i(0,"div",15),M(1,"input",16),x(2,T,2,1,"p",17),s()),e&2){let d,o=n.data,t=h();l(),m("type",o.type)("placeholder",o.placeholder)("formControlName",o.key),l(),v(2,(d=t.getFormControl(o.key))!=null&&d.touched?2:-1)}}var le=(()=>{let n=class n{constructor(){this.fb=g(K),this.router=g(R),this.authService=g(U),this.form=this.fb.group({[a.NICK_NAME]:this.fb.control("",[p.required]),[a.EMAIL]:this.fb.control("",[p.required,p.email]),[a.PASSWORD]:this.fb.control("",[p.required,p.minLength(8)]),[a.CONFIRM_PASSWORD]:this.fb.control("",[p.required,p.minLength(8)])},{validators:[W.match(a.PASSWORD,a.CONFIRM_PASSWORD)]}),this.SignUpFormKey=a}get nickNameControl(){return this.form.controls[a.NICK_NAME]}getFormControl(o){return this.form.get(o)}getErrorMessage(o){let t=this.form.get(o);return t?.hasError("required")?"\u6B64\u6B04\u4F4D\u70BA\u5FC5\u586B":t?.hasError("email")?"\u4FE1\u7BB1\u683C\u5F0F\u4E0D\u6B63\u78BA":t?.hasError("minlength")?"\u5BC6\u78BC\u81F3\u5C11\u516B\u500B\u5B57\u5143":t?.hasError(c.NotMatch)?"\u5BC6\u78BC\u4E0D\u4E00\u81F4":""}register(){let{nick_name:o,email:t,password:r,confirm_password:f}=this.form.getRawValue();this.authService.apiAuthRegisterPost({registerRequestModel:{nick_name:o,email:t,password:r,confirm_password:f}}).subscribe({next:()=>{this.router.navigate(["/login"])},error:C=>{console.error(C)}})}navigateToLogin(){this.router.navigate(["/login"])}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=A({type:n,selectors:[["app-sign-up"]],standalone:!0,features:[N],decls:22,vars:10,consts:[["input",""],[1,"w-full","h-[100vh]","flex","justify-center","items-center",3,"formGroup"],[1,"flex","flex-col","items-center","shadow-[5px_5px_10px_10px_#F7F7F7]","rounded-md","p-10"],[1,"text-tmf-orange-1","text-[32px]","font-semibold","mb-5"],[1,"flex","flex-col","gap-y-1","w-[500px]","mb-6"],["placeholder","\u66B1\u7A31",3,"errorMessage","formControlName"],["placeholder","\u4FE1\u7BB1",3,"errorMessage","formControlName"],["placeholder","\u5BC6\u78BC(\u81F3\u5C11\u516B\u500B\u5B57\u5143)","type","password",3,"errorMessage","formControlName"],["placeholder","\u78BA\u8A8D\u5BC6\u78BC","type","password",3,"errorMessage","formControlName"],[1,"bg-tmf-orange-2","text-white","font-semibold","rounded-md","w-[200px]","py-3","text-center","hover:bg-tmf-orange-1","duration-100","mb-6","disabled:bg-tmf-gray-5",3,"click","disabled"],[1,"flex","flex-col","gap-y-2","w-[240px]","text-center"],[1,"text-tmf-gray-3","text-[12px]","leading-4"],[1,"underline","cursor-pointer"],[1,"text-tmf-gray-3","text-[14px]","leading-4"],[1,"cursor-pointer","font-semibold",3,"click"],[1,"relative","pb-6"],[1,"border-b-2","outline-none","py-3","focus:border-tmf-orange-1","duration-75","w-full",3,"type","placeholder","formControlName"],[1,"text-red-500","absolute","bottom-0","text-[14px]"]],template:function(t,r){if(t&1){let f=y();i(0,"div",1)(1,"div",2)(2,"h1",3),u(3,"\u8A3B\u518A"),s(),i(4,"div",4),M(5,"tmf-input",5)(6,"tmf-input",6)(7,"tmf-input",7)(8,"tmf-input",8),s(),i(9,"button",9),E("click",function(){return S(f),_(r.register())}),u(10," \u8A3B\u518A "),s(),i(11,"div",10)(12,"p",11),u(13," \u9EDE\u64CA\u300C\u8A3B\u518A\u300D\u5373\u4EE3\u8868\u60A8\u540C\u610F\u6211\u5011\u7684\u4F7F\u7528"),i(14,"span",12),u(15,"\u689D\u6B3E\u53CA\u96B1\u79C1\u653F\u7B56"),s()(),i(16,"a",13),u(17,"\u5DF2\u7D93\u8A3B\u518A\uFF1F"),i(18,"span",14),E("click",function(){return S(f),_(r.navigateToLogin())}),u(19,"\u767B\u5165"),s()()()(),x(20,q,3,4,"ng-template",null,0,b),s()}t&2&&(m("formGroup",r.form),l(5),m("errorMessage",r.getErrorMessage(r.SignUpFormKey.NICK_NAME))("formControlName",r.SignUpFormKey.NICK_NAME),l(),m("errorMessage",r.getErrorMessage(r.SignUpFormKey.EMAIL))("formControlName",r.SignUpFormKey.EMAIL),l(),m("errorMessage",r.getErrorMessage(r.SignUpFormKey.PASSWORD))("formControlName",r.SignUpFormKey.PASSWORD),l(),m("errorMessage",r.getErrorMessage(r.SignUpFormKey.CONFIRM_PASSWORD))("formControlName",r.SignUpFormKey.CONFIRM_PASSWORD),l(),m("disabled",r.form.invalid))},dependencies:[w,P,B,D,I,O,k,V],styles:["[_nghost-%COMP%]{display:block}"]});let e=n;return e})();export{le as SignUpComponent};
