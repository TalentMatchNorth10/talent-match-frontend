import{a as E}from"./chunk-XIR4PVUX.js";import{a as M}from"./chunk-7W4YOVO6.js";import{c as v,e as w,f as y,i as F,j as L,k,l as A}from"./chunk-DYHPRYKH.js";import{b as T}from"./chunk-6MVWW7EE.js";import{b,d as _}from"./chunk-D2VUDKTS.js";import{b as B}from"./chunk-TSBQNAKU.js";import{k as C}from"./chunk-YAJBSLJZ.js";import{Fa as p,La as t,Ma as o,Na as f,Qa as u,S as m,Ta as r,V as x,Ya as S,ea as g,fa as h,sa as s}from"./chunk-IGM6XWGY.js";import"./chunk-2XJVAMHT.js";var c=function(n){return n.EMAIL="email",n.PASSWORD="password",n}(c||{});var U=(()=>{let a=class a{constructor(){this.fb=m(k),this.router=m(_),this.route=m(b),this.authService=m(B),this.authStatusService=m(T),this.form=this.fb.group({[c.EMAIL]:this.fb.control(null,[v.required]),[c.PASSWORD]:this.fb.control(null,[v.required])}),this.LoginFormKey=c}ngOnInit(){let{access_token:l,refresh_token:i}=this.route.snapshot.queryParams;l&&i&&(this.authStatusService.setLoginStatus({access_token:l,refresh_token:i}),this.router.navigate(["/home"]))}login(){let{email:l,password:i}=this.form.getRawValue();l&&i&&this.authService.apiAuthLoginPost({loginRequestModel:{email:l,password:i}}).subscribe({next:e=>{this.authStatusService.setLoginStatus(e.data),this.router.navigate(["/home"])},error:e=>{console.error(e)}})}googleLogin(){location.href=`${E.apiUrl}/api/auth/google`}navigateToSignUp(){this.router.navigate(["/sign-up"])}forgetPassword(){this.router.navigate(["/send-email"])}};a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=x({type:a,selectors:[["app-login"]],standalone:!0,features:[S],decls:31,vars:4,consts:[[1,"w-full","h-[100vh]","flex","justify-center","items-center"],[1,"flex","flex-col","items-center","shadow-[5px_5px_10px_10px_#F7F7F7]","w-[80%]","min-w-[260px]","rounded-md","p-8","md:p-10","md:w-auto"],[1,"text-tmf-orange-1","text-[26px]","md:text-[32px]","font-semibold","mb-5"],[1,"flex","gap-x-10","w-full"],[1,"relative","border-2","h-[60px]","rounded-md","py-4","justify-center","w-[300px]","hover:border-tmf-orange-2","hover:text-tmf-orange-1","duration-100","hidden","md:flex",3,"click"],["xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","100","height","100","viewBox","0 0 48 48",1,"absolute","left-0","top-[50%]","-translate-y-[50%]","w-8","h-8","ml-4"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],[1,"flex","flex-col","items-center","w-full","md:w-auto"],[1,"flex","flex-col","gap-y-2","w-full",3,"formGroup"],["placeholder","\u4FE1\u7BB1",3,"formControlName"],["placeholder","\u5BC6\u78BC",3,"formControlName"],[1,"text-tmf-gray-3","text-[14px]","leading-4","self-end","mb-5","cursor-pointer","hover:text-tmf-gray-2","duration-[200ms]",3,"click"],[1,"bg-tmf-orange-2","text-white","font-semibold","rounded-md","w-full","py-3","text-center","hover:bg-tmf-orange-1","duration-100","mb-2","md:mb-6","disabled:bg-tmf-gray-5",3,"click","disabled"],[1,"relative","border-2","h-[48px]","rounded-md","flex","justify-center","items-center","w-full","hover:border-tmf-orange-2","hover:text-tmf-orange-1","duration-100","mb-6","md:hidden",3,"click"],[1,"text-tmf-gray-3","text-[14px]","leading-4",3,"click"],[1,"cursor-pointer","font-semibold"]],template:function(i,e){i&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),r(3," \u767B\u5165 "),o(),t(4,"div",3)(5,"button",4),u("click",function(){return e.googleLogin()}),g(),t(6,"svg",5),f(7,"path",6)(8,"path",7)(9,"path",8)(10,"path",9),o(),r(11," Google \u767B\u5165 "),o(),h(),t(12,"div",10)(13,"div",11),f(14,"tmf-input",12)(15,"tmf-input",13),o(),t(16,"a",14),u("click",function(){return e.forgetPassword()}),r(17,"\u5FD8\u8A18\u5BC6\u78BC"),o(),t(18,"button",15),u("click",function(){return e.login()}),r(19," \u767B\u5165 "),o(),t(20,"button",16),u("click",function(){return e.googleLogin()}),g(),t(21,"svg",5),f(22,"path",6)(23,"path",7)(24,"path",8)(25,"path",9),o(),r(26," Google \u767B\u5165 "),o(),h(),t(27,"a",17),u("click",function(){return e.navigateToSignUp()}),r(28,"\u5C1A\u672A\u8A3B\u518A\uFF1F"),t(29,"span",18),r(30,"\u8A3B\u518A"),o()()()()()()),i&2&&(s(13),p("formGroup",e.form),s(),p("formControlName",e.LoginFormKey.EMAIL),s(),p("formControlName",e.LoginFormKey.PASSWORD),s(3),p("disabled",e.form.invalid))},dependencies:[C,A,w,y,F,L,M],styles:["[_nghost-%COMP%]{display:block}"]});let n=a;return n})();export{U as LoginComponent};
