import{a as z}from"./chunk-MHIU27NI.js";import{c as O,d as Q}from"./chunk-WE7DUPO4.js";import{f as I}from"./chunk-IFNMD2XS.js";import{v as j}from"./chunk-OU7DBEEA.js";import{$ as M,Bb as c,Db as h,Ea as x,Ia as m,Ja as y,Kb as D,Ua as C,_a as V,ab as P,bb as b,ea as w,eb as T,jb as n,kb as o,lb as _,na as a,oa as s,pb as f,sb as u,tb as v,xb as k,yb as E,zb as S}from"./chunk-ZYASN54F.js";var F=["videoPlayer"];function q(d,l){if(d&1){let g=f();n(0,"div",21),u("click",function(t){a(g);let e=v();return s(e.setProgress(t))}),_(1,"div",22),o()}if(d&2){let g=v();m(),b("width",g.progress,"%")}}var R=(()=>{let l=class l{constructor(i,t,e){this.dialogRef=i,this.router=t,this.data=e,this.isPlaying=C(!1),this.progress=0}ngAfterViewInit(){this.videoPlayer.nativeElement.play(),this.isPlaying.set(!0)}initializeVideo(){this.progress=0}updateProgress(){let i=this.videoPlayer.nativeElement;this.progress=i.currentTime/i.duration*100}setProgress(i){let t=i.currentTarget,e=i.offsetX/t.offsetWidth*this.videoPlayer.nativeElement.duration;this.videoPlayer.nativeElement.currentTime=e}close(){this.dialogRef.close()}navigateToCoursePage(i){this.router.navigate([`course-detail/${i.course_id}`]),this.close()}};l.\u0275fac=function(t){return new(t||l)(y(O),y(I),y(Q))},l.\u0275cmp=w({type:l,selectors:[["tmf-video-dialog"]],viewQuery:function(t,e){if(t&1&&k(F,5),t&2){let r;E(r=S())&&(e.videoPlayer=r.first)}},standalone:!0,features:[D],decls:31,vars:4,consts:[["videoPlayer",""],[1,"relative","w-[375px]","h-screen","flex","justify-between","items-center","xl:w-[472px]","xl:h-[712px]"],[1,"relative","w-full","h-full","overflow-hidden","shadow-2xl","cursor-pointer","xl:w-[25rem]","xl:rounded-xl"],[1,"text-sm","font-bold","bg-tmf-gray-1","text-tmf-yellow-1","px-3","py-1","rounded-lg","absolute","top-3","left-3"],[1,"w-full","h-full","object-cover",3,"timeupdate","loadedmetadata","src"],[1,"absolute","bottom-0","w-full","h-[168px]","mask"],[1,"h-full","flex","items-end"],[1,"w-full","flex","flex-col","gap-4","px-4","pb-6"],[1,"flex","items-center","gap-2"],["src","https://fakeimg.pl/24/","alt","",1,"w-6","h-6","rounded-full","border","border-tmf-gray-6"],[1,"text-base","font-medium","text-white"],[1,"text-base","text-white"],[1,"progress-container"],[1,"absolute","bottom-0","right-0","h-full"],[1,"flex","flex-col","justify-between","items-end","h-full"],[1,"text-4xl","leading-9","text-white","material-icons","cursor-pointer","xl:text-[2.5rem]","xl:leading-[2.5rem]",3,"click"],[1,"flex","flex-col","gap-6","pb-[88px]","pr-1","xl:p-0"],[1,"flex","justify-center","items-center","w-10","h-10","rounded-full","bg-white","text-tmf-orange-1","cursor-pointer","xl:w-12","xl:h-12",3,"click"],[1,"text-xl","leading-5","material-symbols-outlined","xl:text-[24px]","xl:leading-6"],[1,"flex","justify-center","items-center","w-10","h-10","rounded-full","bg-white","text-tmf-orange-1","cursor-pointer","xl:w-12","xl:h-12"],["src","https://fakeimg.pl/48/","alt","",1,"w-10","h-10","rounded-full","border","bg-tmf-gray-6","xl:w-12","xl:h-12",3,"click"],[1,"progress-container",3,"click"],[1,"h-full","w-0","bg-tmf-orange-1"]],template:function(t,e){if(t&1){let r=f();n(0,"div",1)(1,"div",2)(2,"div",3),c(3),o(),n(4,"video",4,0),u("timeupdate",function(){return a(r),s(e.updateProgress())})("loadedmetadata",function(){return a(r),s(e.initializeVideo())}),o(),n(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),_(10,"img",9),n(11,"p",10),c(12,"\u6587\u6587"),o()(),n(13,"p",11),c(14),o()()(),V(15,q,2,2,"div",12),o()(),n(16,"div",13)(17,"div",14)(18,"span",15),u("click",function(){return a(r),s(e.close())}),c(19,"close"),o(),n(20,"div",16)(21,"div",17),u("click",function(){return a(r),s(e.navigateToCoursePage(e.data))}),n(22,"span",18),c(23," arrow_right_alt "),o()(),n(24,"div",19)(25,"span",18),c(26," share "),o()(),n(27,"img",20),u("click",function(){return a(r),s(e.navigateToCoursePage(e.data))}),o(),n(28,"div",19)(29,"span",18),c(30," bookmark "),o()()()()()()}t&2&&(m(3),h(" ",e.data.category," "),m(),P("src",e.data.url,x),m(10),h(" ",e.data.intro," "),m(),T(15,e.isPlaying()?15:-1))},styles:[".video-container[_ngcontent-%COMP%]{position:relative;width:100%;height:auto}.video[_ngcontent-%COMP%]{width:100%;height:auto}.progress-container[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:4px;cursor:pointer}.mask[_ngcontent-%COMP%]{background:linear-gradient(180deg,#0000 -.01%,#0009 74.25%)}"]});let d=l;return d})();var U=["videoPlayer"];function W(d,l){if(d&1){let g=f();n(0,"div",8),u("click",function(t){a(g);let e=v();return s(e.setProgress(t))}),_(1,"div",9),o()}if(d&2){let g=v();m(),b("width",g.progress,"%")}}var oe=(()=>{let l=class l{constructor(){this.dialogService=M(z),this.isPlaying=C(!1),this.progress=0}togglePlay(i){let t=this.videoPlayer.nativeElement;i?(this.isPlaying.set(!0),t.play()):(this.isPlaying.set(!1),t.pause(),this.progress=0,t.currentTime=0)}initializeVideo(){this.progress=0}updateProgress(){let i=this.videoPlayer.nativeElement;this.progress=i.currentTime/i.duration*100}setProgress(i){let t=i.currentTarget,e=i.offsetX/t.offsetWidth*this.videoPlayer.nativeElement.duration;this.videoPlayer.nativeElement.currentTime=e}openVideoDialog(){this.dialogService.openVideoDialog(R,this.data),this.videoPlayer.nativeElement.pause(),this.isPlaying.set(!1)}};l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=w({type:l,selectors:[["tmf-video-card"]],viewQuery:function(t,e){if(t&1&&k(U,7),t&2){let r;E(r=S())&&(e.videoPlayer=r.first)}},inputs:{data:"data"},standalone:!0,features:[D],decls:10,vars:4,consts:[["videoPlayer",""],[1,"relative","md:h-[537px]","md:w-[302px]","h-[298px]","w-[168px]","cursor-pointer","overflow-hidden","rounded-xl","border","border-tmf-gray-6","shadow-lg","xl:h-[33.75rem]","xl:w-[18.875rem]",3,"mouseenter","mouseleave","click"],[1,"absolute","left-3","top-3","rounded-lg","bg-tmf-gray-1","px-3","py-1","text-sm","font-bold","text-tmf-yellow-1"],["preload","auto","muted","",1,"h-full","w-full","object-cover",3,"timeupdate","loadedmetadata","src"],[1,"mask","absolute","bottom-0","h-[140px]","w-full"],[1,"flex","h-full","w-full","items-end"],[1,"px-3","pb-3","text-sm","text-white","xl:px-4","xl:pb-6","xl:text-base"],[1,"progress-container"],[1,"progress-container",3,"click"],[1,"h-full","w-0","bg-tmf-orange-1"]],template:function(t,e){if(t&1){let r=f();n(0,"div",1),u("mouseenter",function(){return a(r),s(e.togglePlay(!0))})("mouseleave",function(){return a(r),s(e.togglePlay(!1))})("click",function(){return a(r),s(e.openVideoDialog())}),n(1,"div",2),c(2),o(),n(3,"video",3,0),u("timeupdate",function(){return a(r),s(e.updateProgress())})("loadedmetadata",function(){return a(r),s(e.initializeVideo())}),o(),n(5,"div",4)(6,"div",5)(7,"p",6),c(8),o()(),V(9,W,2,2,"div",7),o()()}t&2&&(m(2),h(" ",e.data.category," "),m(),P("src",e.data.url,x),m(5),h(" ",e.data.intro," "),m(),T(9,e.isPlaying()?9:-1))},dependencies:[j],styles:[".video-container[_ngcontent-%COMP%]{position:relative;width:100%;height:auto}.video[_ngcontent-%COMP%]{width:100%;height:auto}.progress-container[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:4px;cursor:pointer}.mask[_ngcontent-%COMP%]{background:linear-gradient(180deg,#0000 -.01%,#0009 74.25%)}"]});let d=l;return d})();export{oe as a};
